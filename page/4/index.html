<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="baidu-site-verification" content="E1Di33CelZ">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="WsojkhmMcOefku3B2Vxp02NtxlUt_JzBP1fVPrFk3Gw">


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.4">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.4" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'WGLQQAQKBA',
      apiKey: '',
      indexName: 'xiemay',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  



<meta name="baidu-site-verification" content="z0tVDge8Pe">

  
  <meta name="keywords" content="Hexo, NexT">


<meta name="description" content="期待花开">
<meta property="og:type" content="website">
<meta property="og:title" content="welcome">
<meta property="og:url" content="http://xiemaycherry.github.io/page/4/index.html">
<meta property="og:site_name" content="welcome">
<meta property="og:description" content="期待花开">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="welcome">
<meta name="twitter:description" content="期待花开">






  <link rel="canonical" href="http://xiemaycherry.github.io/page/4/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>
  <title>welcome</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
<meta name="baidu-site-verification" content="3BmH9zSH5h"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">welcome</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
        </li>
      
        
        <li class="menu-item menu-item-留言">
          <a href="/guestbook/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-commenting"></i> <br>留言</a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>Schedule</a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>Sitemap</a>
        </li>
      
        
        <li class="menu-item menu-item-baidusitmap">
          <a href="/baidusitmap.xml" rel="section">
            <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>baidusitmap</a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiemaycherry.github.io/2020/06/09/Reading-Record/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieMay">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/09/Reading-Record/" itemprop="url">Reading-Record</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-09T15:47:01+08:00">2020-06-09</time>
            

            
            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/06/09/Reading-Record/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/06/09/Reading-Record/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article&#58;</span>
                
                <span title="Symbols count in article">
                12k字
              </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1>2020-7-13 Migration patterns in China extracted from mobile positioning data</h1>
<p>(How-What-Why-Where-When)</p>
<p><strong>Problem</strong>: <strong>Using</strong> a mobile positioning dataset, this paper <strong>first</strong> <strong>analyzes</strong> the spatial patterns of mobile-data-based active population estimation (MAPE) and <strong>aims</strong> to <strong>uncover</strong> the socioeconomic factors <strong>associated</strong> with migrant patterns based on the MAPE change around the <strong>Chinese Spring</strong><br>
<strong>Festival of 2016</strong>.</p>
<p>![](K:\MyBlog\hexo\source_posts\Reading-Record\population migration.png)</p>
<p>illustrates</p>
<p>人口迁移模式，以及影响因素的关系</p>
<p>研究人类移动模式： 理论-&gt;引力模型(影响因素)，城市化等的影响-&gt;大规模微观数据（精度提高，应用）</p>
<h1>2020-7-9 News and the city: understanding online press consumption patterns</h1>
<p>through mobile data</p>
<h1>2020-7-6 diversity of city(neighborhood)</h1>
<p>MIT: Economic outcomes predicted by diversity<br>
in cities  Shannon entropy</p>
<p>Abstract:</p>
<p>Gap: Much recent work has illuminated the growth, innovation, and prosperity of entire cities, but there is relatively less evidence concerning the growth and prosperity of individual neighborhoods.</p>
<p>Aiming;: In this paper we show that diversity of amenities within a city neighborhood, computed from openly available points of interest on digital maps, accurately predicts human mobility (“flows”) between city neighborhoods and that these flows accurately predict neighborhood economic productivity</p>
<p>Conclusion: Our results suggest that the diversity of goods and services within a city neighborhood is the largest single factor driving both human mobility and economic growth</p>
<h1>2020-7-5  Supporting Information S1: New Metrics for the Economic Complexity of Countries and Produces</h1>
<p>Key:</p>
<ol>
<li>Revealed Comparative Advantage</li>
</ol>
<h1>2020-7-5 What Do We Mean by Economic Complexity?</h1>
<h1>2020-7-2 Women’s Political Participation and Gender Gaps of Education in China: 1950–1990</h1>
<p>yang yao and wuyue you</p>
<p>社会科学问题： 女性政治地位的提高是否促进性别平等。</p>
<p>女性政治地位： 女性党员比例</p>
<p>性别平等：男女出生比例</p>
<p>计量模型的设置，控制变量的选择！还做了影响机制的检测！</p>
<h1>2020-6-26 A review on time series forecasting techniques for building energy consumption</h1>
<p>This study presents a comprehensive review of existing nine most popular forecasting techniques.</p>
<p>Beautiful!!!1</p>
<p>2.1 Artificial neural network(ANN)</p>
<p>2.1.1 Overview of ANN</p>
<p>2.1.2 Review of application studies on ANN</p>
<p>Model: Hamzacebi [42] developed forecasting models using ANN for net electricity consumption of Turkey.</p>
<p>Input time series:  The ANN model forecasted the sectoral electricity consumption of the four sectors which were the transportation, agriculture, residential and the industry sectors respectively.</p>
<p>Dataset: The data used to develop, validate and test the model was for a period between 1970 and 2004.</p>
<p>Results: The MAPE computed for the four sector’s electricity consumption were 23.59%, 3.56%, 3.26% and 2.25% respectively . Very clear!</p>
<p>2.2 Autoregressive Integrated Moving Average(ARIMA)</p>
<p>2.3 Support Vector Machine(SVM)</p>
<p>2.4. Case-Based Reasoning (CBR)</p>
<p>2.4.1. Overview of CBR</p>
<p>2.4.2. Review of application studies using CBR</p>
<p>2.5. Fuzzy time series</p>
<p>2.6. Grey prediction model</p>
<p>2.7. Moving average and exponential smoothing (MA &amp; ES)</p>
<p>2.8. K – Nearest Neighbor prediction method (kNN)</p>
<p>2.9. Hybrid models</p>
<p>Summary of qualitative comparison for the 9 major time series forecasting techniques.</p>
<p>the distance between theory and application.  Application is the first step, then the theory is next creation.</p>
<h1>2020-6-25 Time Series Prediction</h1>
<p>Title: Financial Time Series Prediction Using Least Squares<br>
Support Vector Machines Within the Evidence Framework</p>
<p>The least squares support support vector machine(LS-SVM) regression applied to predict  financial time series.</p>
<h1>2020-6-18 Data Mining</h1>
<p>Preprocessing Methods and Pipelines of Data Mining: An Overview. IEEE conference, 2019. arXiv: 1906.008510</p>
<p><img src="/2020/06/09/Reading-Record/K:%5CMyBlog%5Chexo%5Csource_posts%5C%E6%AF%8F%E5%A4%A9%E4%BA%86%E8%A7%A3%E5%A4%9A%E4%B8%80%E7%82%B9%5C2020618-1.png" alt="image-20200618171449911"></p>
<p>总结了常用在数据预处理流程: data preprocessing technoques which are categorized as the data cleaning, data transformation and data preprocessing is given.</p>
<p>data type</p>
<p>data distribution</p>
<p>noise of data</p>
<p>Exploring</p>
<p>​	Before modeling the data, people may want to get to know the underlying distribution of the data, the correlation between variables, and the their correlation with the lables.</p>
<p>Modeling</p>
<p>with underling patterns existed in the data source, modeling makes it possible to represent the pattern explicitly with the data mining models.</p>
<p>data mining models, loss functions are defined.</p>
<p>mean squared error</p>
<p>cross entropy</p>
<p>Interpreting</p>
<p>感觉这个综述写的还是简单，大致流程给出来了。</p>
<h1>2020-6-17</h1>
<p>疫情下公共交通系统通勤客流测算及优化建议——以北京市为例</p>
<p>爆发于2019年12月的新型冠状病毒肺炎(以下简称“新冠肺炎”)虽然已得到初步控制，但仍对中国经济社会发展和城市居民生活造成很大影响。反映在城市公共交通方面，疫情导致大量城市的公共交通系统处于非常态的运营状况，客运量远低于正常水平。究其原因：一是疫情中交通运输部门对春运迁徙进行了高强度的管制，使得大量工作人口滞留异地，无法正常返岗和通勤；二是为减少人员接触造成疫情传播，大部分城市均出台了居家隔离、远程办公等应急政策，进一步压缩了通勤出行需求。</p>
<p>在非常态背景下，城市公共交通系统营运亟须进行重组织和再优化，以实现安全、效率与经济之间的平衡。从安全角度来看，目前新冠肺炎疫情防治工作仍处在攻坚期，一旦控制不慎，仍可能造成二次传播，为城市防疫工作和居民生命财产安全带来巨大损失，而控制乘客密度对于减少人群接触、遏制病毒扩散十分必要；从效率角度来看，公共交通系统必须满足城市必要的通勤出行需求，维持城市各项功能基本正常运转，尽可能地减少疫情对城市经济社会发展造成的负面影响；从经济角度来看，将城市公共交通营运的供需比控制在一个合理水平，有助于缩减公共交通的财政开支，进一步减少疫情带来的损失。由此可见，科学合理地测算非饱和运营情景下城市公共交通系统的客流强度，对于明确系统的运力需求，制定合理的调度和营运方案，实现高效、低风险运行具有重要的基础支撑作用。</p>
<p>已有测算手段具有准确度高、数据连续的优势，但是存在两大不足：1)数据获取难度相对较大，获取数据的成本较高，数据更新周期较长，动态性不足；2)一般数据覆盖范围受限，难以实现在整个城市尺度下进行总体的分析和优化。因此，现有技术方法难以完全满足当前非常态情景下城市公共交通系统快速调整、灵活应对的特殊需求。</p>
<p>针对上述不足，本文立足新冠肺炎疫情下城市公共交通系统的非饱和运营情景，以北京市为例，提出了一种面向城市公共交通系统客流强度测算和重要性研判的技术框架。与传统方法相比，该技术框架充分利用海量互联网时空大数据样本量大、数据可获取度高、动态性强的特点，将大数据挖掘技术与地理统计方法相结合，在准确识别返岗工作人口的通勤流之后，对公共交通系统客流强度及其空间分布进行测算。同时，基于该框架可以实现对城市公共交通系统客流强度的实时监测和动态反馈，在疫情期间城市通勤格局快速变化的情形下，有力地支持城市公共交通系统高效调度、快速响应。</p>
<p>本文主要使用返岗通勤数据、公共交通通勤数据、城市公共交通线路三类时空大数据，每类数据处理各环节均匿名化，各环节及输出均不涉及个体隐私。</p>
<p>1）返岗用户通勤数据。</p>
<p>基于2020年1月31日—2月23日百度地图慧眼时空大数据，根据用户行为特征识别返岗工作人口，并通过整合去隐私化的位置、POI等多源数据，得到该群体的职住空间分布特征。将海量返岗用户的居住地与工作地相连接，得到其通勤OD数据。本文将居住地和工作地以网格形式进行聚合，网格尺寸为100m×100m，居住地网格<em>i</em>和工作地网格<em>j</em>之间的通勤流强度<em>Fij</em>为两网格之间的已返岗通勤人数总和。</p>
<p>2）公共交通通勤数据。</p>
<p>基于百度地图慧眼综合通勤时间、人口画像属性、居住/工作地分布等历史信息和特征，运用机器学习算法挖掘海量用户的通勤方式，并通过通勤调查数据，对计算结果的可靠性进行校核。由此得到从居住地网格<em>i</em>至工作地网格j的通勤流中公共交通出行比例<em>Pij</em> 。因此，公共交通日均通勤客流强度数据(以下对于客流强度的描述均指公共交通日均通勤客流强度)<em>Tij</em>=<em>FijPij</em> 。需要说明的是，本文使用的数据并非覆盖所有人口的全样本数据，因而分析得到的客流强度仅表达相对强度，而非准确的绝对数值。</p>
<p>3）城市公共交通线路数据。</p>
<p>本文基于百度地图的北京市公共交通线路和车站数据，包含约1200条公共汽车线路和22条轨道交通线路。</p>
<h3 id="研究数据和方法"><a class="header-anchor" href="#研究数据和方法">¶</a>研究数据和方法</h3>
<h4 id="研究数据"><a class="header-anchor" href="#研究数据">¶</a>研究数据</h4>
<p>本文主要使用返岗通勤数据、公共交通通勤数据、城市公共交通线路三类时空大数据，每类数据处理各环节均匿名化，各环节及输出均不涉及个体隐私。</p>
<p>2 研究框架</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoXYuaOYNYVnyiaEf7RtvmY3I1SicRIicoXolibOuhVaUpacne8Kjn0wgz9W7YZlibfQEo85XDpvhBrF7YQ/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h2 id="分析结果"><a class="header-anchor" href="#分析结果">¶</a>分析结果</h2>
<h4 id="返岗工作人口的居住地分布"><a class="header-anchor" href="#返岗工作人口的居住地分布">¶</a>返岗工作人口的居住地分布</h4>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoXYuaOYNYVnyiaEf7RtvmY3IdBIaqd49pFMibkh9Tr95TMAqzkf01qB9g4CP2mKJtzR6BfA5e44N59A/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h2 id="返岗工作的工作地分布"><a class="header-anchor" href="#返岗工作的工作地分布">¶</a>返岗工作的工作地分布</h2>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoXYuaOYNYVnyiaEf7RtvmY3Ip82PYVNtCwJ9mjvZGSLcF9wT4MRnzX2YGWaoab59Vt8pfRxZiahHFPQ/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h3 id="返岗工作人口公共交通通勤流的空间分布"><a class="header-anchor" href="#返岗工作人口公共交通通勤流的空间分布">¶</a>返岗工作人口公共交通通勤流的空间分布</h3>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoXYuaOYNYVnyiaEf7RtvmY3IznlXsSOuAfib56Yx1lFyGwwTV6MT6CHU6t6WibZFQRszdDnscY9KBicEA/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h2 id="公共交通线路客流强度分析"><a class="header-anchor" href="#公共交通线路客流强度分析">¶</a>公共交通线路客流强度分析</h2>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoXYuaOYNYVnyiaEf7RtvmY3IdKH7c0z56A1BoPNhn3bgwzOO8Cp46X1PUGJp5LdMMMSqQic9WawrvxQ/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h3 id="城际交通运输需求的空间特征"><a class="header-anchor" href="#城际交通运输需求的空间特征">¶</a>城际交通运输需求的空间特征</h3>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/oEyYMotlicoW2X9ZH5ejoZRmvZy4aCicpMdowte0InT2nDKtYw1BRAvIERTTiaAlpjrK0PdtqEP1YIYwiaK41MuTibA/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<p>OD矩阵</p>
<h1>2020-6-13</h1>
<p>I have summarized some metric which are used to measure social and economic development.</p>
<p>Symbolic Explanation</p>
<p>c : represents unit region c</p>
<p>n : the number of region</p>
<p>a : represents a economic index of region</p>
<p>m : the number of region</p>
<p>The complexity</p>
<ol>
<li>
<p>location quotient(LQ)[1]<br>
$$<br>
LQ_{c,a} = \frac{\frac{P_{c,a}}{\sum_{a=1}<sup>{n}p_{s,a}}}{\frac{\sum_{s=1}</sup>{n}p_{s,a}}{\sum_{a=1}^{m}\sum_{s = 1}^{n}p_{s,a}}}<br>
$$<br>
where $p_{s,a}$ is the number of  index a in region s,  $\sum_{a =1}^{m}p_{s,a}$ is the total number of index belongs to a in regions,  $\sum_{s = 1}^{n}p_{s,a}$; $\sum_{s = 1}^{n}\sum_{a = 1}^{m}p_{s,a}$ is the number of index a in countrywide.  The $m_{s, a}$ matrix is definded by<br>
$$<br>
\left{<br>
\begin{array}{cc}<br>
1 &amp; if \ LQ_{s,a}&gt;LQ^{*}\<br>
0 &amp; otherwise<br>
\end{array}<br>
\right.<br>
$$<br>
The diversification<br>
$$<br>
Diversification: k_{s,0}=\sum_{a = 1}^{n}m_{s,a}<br>
$$</p>
<p>$$<br>
Ubiquity: k_{a,o} = \sum_{s=1}^{n}m_{s,a}<br>
$$</p>
<p>The <strong>average value</strong> of the prior period’s level for the measures of diversification and ubiquity. The iterative process is defined as follows:<br>
$$<br>
K_{s,N} = \frac{1}{K_{s,0}}\sum_{a = 1}^{m}m_{s,a}\cdot K_{a,N-1}<br>
$$</p>
<p>$$<br>
K_{a,N} = \frac{1}{K_{a,o}}\sum_{s = 1}^{n}m_{s,a}\cdot K_{s,N-1}<br>
$$</p>
</li>
</ol>
<pre><code>[1] Economic Complexity and Regional Growth Performance: Evidence from the Mexican Economy  
</code></pre>
<h1>2020-6-11</h1>
<p>Reference: Gao Jian, Jun Bogang, et al. Collective Learning in China’s Regional Economic Development. arXiv: 1703.01369, 2017.</p>
<p>Using China’s stock market extracted from the RESSET Financial Research Database coving 1990-2015, Gao et-al investigated  inter-regional and inter-industry learning which make contribution to  economic development.</p>
<p>I mainly learn how the quantify industry similarities and dominance of region by mathematical tool.  Beautiful results tell good story.</p>
<h1>2020-6-9 Transportation large-scale dataset reveals economic development status</h1>
<p>Title: Estimation of Regional Economic Development Indicator from Transportation Network Analytics.</p>
<p>Reference: Li BIn, Gao Song, et al. Estimation of regional economic development indicator from transportation network analytics. <em>Scientific reports</em>, 2020: 10(1), 1-15.</p>
<p>I appreciate this works, not only the dataset but all the content. I can try all my knowledge to understand it. At the same time, I can learn how to analyze complex questions to get deep information.  I will detail to review as following structure.</p>
<p>The Introduction</p>
<p><strong>P1.S1:</strong> <strong>The meaning of economy:</strong> With the booming economy in China, many researches have pointed out that the improvement of regional trans-<br>
portation infrastructure, the mobility of labor and capital, and industry reform along with other socioeconomic<br>
factors <strong>play an important role on</strong> economic growth.</p>
<p>The meaning of policy maker; <strong>Timely estimatio</strong>n of social and economic <strong>status</strong> of cities  and regions <strong>has important implications for</strong> enterprise investment and government policy making.</p>
<p><strong>P1.S2: The disadvantage.</strong> Traditional  inference approaches to economic status mainly rely on official reports and census surveys, which usually take a  long period and are labor intensive.</p>
<p><strong>P1.S3: The applicaiton of big data.</strong> With the rapid development of information, communication and technology (ICT), <strong>new data sources of human activities 1  and vehicle movement flow , air transport flow , financial  flow, information flow , communication flow , and others  have become available for better understanding  and monitoring the status of our socioeconomic environments</strong> . <strong>For example:</strong></p>
<p>Liu et al. 1  <strong>found that</strong> online social activity  could <strong>reflect</strong> the macro economic status of <strong>282 prefecture-level cities</strong> in China.  Recently, Gao et al. 16  conducted a  comprehensive <strong>review on</strong> data resources, computational tools, analytical methods, theoretical models, and applications in <strong>computational socioeconomics.</strong></p>
<p>P2</p>
<p><strong>Review on old methodology.</strong> In the past decades, a wealth of works have been dedicated to studying the pattern of human mobility  involving passenger transportation .</p>
<p><strong>Foucuse on their topic :</strong> A comparatively smaller literature has been dedicated to the pattern of  transportation activity embedded in goods movement .  <strong>The shortest :</strong> The scarcity of reliable data sources on freight transportation appears to be one of the challenges. Early studies rely on traditional freight traffic surveys, which are  typically enterprise questionnaire surveys to obtain information such as the traffic volume and speed in specific  road sections.</p>
<h2 id="methods"><a class="header-anchor" href="#methods">¶</a>Methods</h2>
<h3 id="data-a-excellent-research-must-be-constructed-by-a-high-quality-dataset"><a class="header-anchor" href="#data-a-excellent-research-must-be-constructed-by-a-high-quality-dataset">¶</a>Data : A excellent research must be constructed by a high-quality dataset.</h3>
<p>Information: annual transportation data between years 2014 and 2017 for the Shaanxi, Jiangsu, Liaoning at city level.</p>
<p>The vehicle is divided into two categories: cars&amp;buses, and freight trucks.</p>
<p>The aiming is to investigate the relationship between regional economy and transportation networks.</p>
<p>Indictors:  the total number of vehicles, the sum of passengers(for cars and buses) and the weights(for trucks) as well as the distance (km) between paired cities were calculated respectively.</p>
<p>Models: 最小二乘法+ 正则化泛化能力（过拟合？？？？）我觉得是<strong>多重共线性</strong>的原因，解释变量之间太线性相关了！！！！！</p>
<ol>
<li>
<p>MLR(multiple linear regression) with ordinary least squares (OLS) paramete estimation is used to discover the realtionship between the transport flows of people and goods.  The independent variables  includs.</p>
</li>
<li>
<p><strong>incoming</strong> flow, <strong>outgoing</strong> flow,  <strong>intracity</strong> flow.</p>
</li>
<li>
<p>Linear model with regularization</p>
<p>combine machine learning with MLR to improve generalization. 本科阶段已经学过</p>
<p>Ridge regression applies and Lasso regression with different regularization term.</p>
<p>如果改成支持向量回归就更好了，我准备试试</p>
<p><a href="http://kernelsvm.tripod.com/" target="_blank" rel="noopener">http://kernelsvm.tripod.com/</a></p>
<p>感觉只是在应用两个模型，并没有创新之处</p>
<p><strong>要把这种线性模型正则化技术整理一篇</strong></p>
</li>
</ol>
<p>Model 2: The gravity model fitting with linear regression and linear<br>
$$<br>
G_{ij} = k\frac{p_ip_j}{d_{ij}^{\beta}}(i!=j)<br>
$$<br>
参数$\beta$ 的确定，代表了距离的影响，d距离衰减影响，拟合，参数显著性检验，</p>
<p>Model 3: The null model</p>
<p>Model 4: Network structure analyses</p>
<p>​	1. 计算或定义了有些网络连通性的刻画指标</p>
<p>Betw、Close、 PageRanke</p>
<pre><code>1. 相关性的刻画
2. 主成分分析（还不知道）
</code></pre>
<p>首先，我从中学到了把一个问题拆解，怎么一步一步分析的，有时候数据量大了，能得到的信息就越大，怎么挖掘自己觉得有价值的东西，而不是人人都能看的结果。本文就从三个大的方面，分层次研究了交通流与经济发展的关系。但是这篇文章很大程度是建立在大数据之上的，但有创新的方法都是借鉴过来的，偏重于方法的应用，解释经济发展与交通流。读完这篇文章，有种自己成就感，这个好的文章我都看明白了。不得不说，知识面、写作方法、分析思路、绘图，都是该常常拿出来学习的文章。</p>
<ol>
<li>计量经济学模型和机器学习预测模型的区别在哪里？OLS估计</li>
<li><a href="https://www.nber.org/chapters/c14009.pdf" target="_blank" rel="noopener">https://www.nber.org/chapters/c14009.pdf</a></li>
<li>机器学习长于预测，计量经济学长于解释</li>
</ol>
<p><a href="https://www.aeaweb.org/conference/cont-ed/2018-webcasts" target="_blank" rel="noopener">https://www.aeaweb.org/conference/cont-ed/2018-webcasts</a></p>
<ol start="4">
<li>计量模型的设置：强调参数估计的经济学含义 log-normal log -log 等等，有经济学含义，并且要参数显著性检验</li>
<li>机器学习模型：模型的结果，预测效果</li>
</ol>
<p>线性模型，核技巧</p>
<p><a href="https://otexts.com/fppcn/causality.html" target="_blank" rel="noopener">https://otexts.com/fppcn/causality.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    
<div>
  
</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiemaycherry.github.io/2019/09/18/希腊字母/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieMay">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/18/希腊字母/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-18T08:28:55+08:00">2019-09-18</time>
            

            
            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/18/希腊字母/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/09/18/希腊字母/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article&#58;</span>
                
                <span title="Symbols count in article">
                382字
              </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>$\alpha$	$\beta$	$\gamma$	$\Gamma$	$\delta$	$\Delta$	$\epsilon$	$\varepsilon$	$\zeta$	$\eta$	$\theta$	$\Theta$	$\vartheta$	$\iota$	$\kappa$	$\lambda$	$\Lambda$	$\mu$	$\nu$<br>
	$\xi$	$\Xi$	$\pi$	$\Pi$	$\varpi$	$\rho$	$\varrho$	$\sigma$	$\Sigma$	$\varsigma$	$\tau$	$\upsilon$	$\Upsilon$	$\phi$	$\Phi$	$\varphi$	$\chi$	$\psi$	$\Psi$	$\Omega$	$\omega$</p>
<p>alpha</p>
<p>beta</p>
<p>gamma</p>
<p>delta</p>
<p>epsilon</p>
<p>theta</p>

          
        
      
    </div>

    

    
    
    

    

    

    
<div>
  
</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiemaycherry.github.io/2019/05/28/Python-basic/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieMay">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/28/Python-basic/" itemprop="url">Python Basics</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-28T10:18:04+08:00">2019-05-28</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/编程语言/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/28/Python-basic/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/28/Python-basic/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article&#58;</span>
                
                <span title="Symbols count in article">
                3.8k字
              </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1>重新学习</h1>
<p>开始很乱的学习Python，现在想系统学习基础，真正了解pythonic,</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/05/28/Python-basic/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    
<div>
  
</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiemaycherry.github.io/2019/05/22/Pandas 做数据分析/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieMay">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/22/Pandas 做数据分析/" itemprop="url">数据分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-22T14:54:12+08:00">2019-05-22</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/数据分析/" itemprop="url" rel="index"><span itemprop="name">数据分析</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/22/Pandas 做数据分析/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/22/Pandas 做数据分析/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article&#58;</span>
                
                <span title="Symbols count in article">
                15k字
              </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h1>Pandas 做数据分析</h1>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html?highlight=read_csv" target="_blank" rel="noopener">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html?highlight=read_csv</a></p>
<h3 id="step-1-读取文件"><a class="header-anchor" href="#step-1-读取文件">¶</a>Step 1: 读取文件</h3>
<ul>
<li>
<p>csv/txt</p>
<ol>
<li><strong>names</strong>: columns，当names没被赋值时，header会变成0，即选取数据文件的第一行作为列名。当 names 被赋值，header 没被赋值时，那么header会变成None。如果都赋值，就会实现两个参数的组合功能。header = 0:是第一行是名字</li>
<li><strong>sep</strong>=‘\t’</li>
<li><strong>header</strong>=None:指定列名，数据开始行数。默认0行;None = 无标题</li>
<li><strong>index_col</strong> :None； 指定列作为行索引 数值。 False表示无索引</li>
<li>usecols ; 如果列有很多，而我们不想要全部的列、而是只要指定的列就可以使用这个参数。</li>
<li><strong>prefix</strong> .prefix 参数，当导入的数据没有 header 时，设置此参数会自动加一个前缀。</li>
</ol>
<p><a href="https://www.jianshu.com/p/42f1d2909bb6" target="_blank" rel="noopener">https://www.jianshu.com/p/42f1d2909bb6</a></p>
</li>
</ul>
<h3 id="step-2-缺省值处理"><a class="header-anchor" href="#step-2-缺省值处理">¶</a>Step 2: 缺省值处理</h3>
<h4 id="1-drop"><a class="header-anchor" href="#1-drop">¶</a>1. drop</h4>
<p><code>DataFrame.drop</code><strong>(<strong><em>self</em></strong>,</strong> <em><strong>labels</strong>=None</em>**,** <em><strong>axis</strong>=0</em>**,** <em>index=None</em>**,** <em>columns=None</em>**,** <em>level=None</em>**,** <em>inplace=False</em>**,** <em>errors=‘raise’</em><strong>)</strong></p>
<p>Parameters</p>
<ul>
<li>
<p><strong>labels</strong> single label or list-like</p>
<p>Index or column labels to drop.</p>
</li>
<li>
<p><strong>axis</strong> {0 or ‘index’, 1 or ‘columns’}, default 0</p>
<p>Whether to drop labels from the index (0 or ‘index’) or columns (1 or ‘columns’).</p>
</li>
<li>
<p><strong>index</strong> single label or list-like</p>
<p>Alternative to specifying axis (<code>labels, axis=0</code> is equivalent to <code>index=labels</code>).<em>New in version 0.21.0.</em></p>
</li>
<li>
<p><strong>columns</strong> single label or list-like</p>
<p>Alternative to specifying axis (<code>labels, axis=1</code> is equivalent to <code>columns=labels</code>).<em>New in version 0.21.0.</em></p>
</li>
<li>
<p>**level **int or level name, optional</p>
<p>For MultiIndex, level from which the labels will be removed.</p>
</li>
<li>
<p><strong>inplace</strong> bool, default False</p>
<p>If True, do operation inplace and return None.</p>
</li>
<li>
<p><strong>errors</strong>{‘ignore’, ‘raise’}, default ‘raise’</p>
<p>If ‘ignore’, suppress error and only existing labels are dropped.</p>
</li>
</ul>
<h4 id="2-dropna"><a class="header-anchor" href="#2-dropna">¶</a>2. dropna</h4>
<p><code>DataFrame.dropna</code><strong>(<strong><em>self</em></strong>,</strong> <em><strong>axis</strong>=0</em>**,** <em><strong>how</strong>=‘any’</em><strong>,</strong> <em>thresh=None</em>**,** <em><strong>subset</strong>=None</em>**,** <em><strong>inplace</strong>=False</em>**)**4</p>
<h4 id="3-isna"><a class="header-anchor" href="#3-isna">¶</a>3. isna()</h4>
<p><code>DataFrame.isna</code><strong>(<strong><em>self</em></strong>)</strong></p>
<ol start="2">
<li>填充</li>
</ol>
<h4 id="4-fillna"><a class="header-anchor" href="#4-fillna">¶</a>4. fillna()</h4>
<p>DataFrame.fillna(<strong>value</strong>=None, <strong>method</strong>=None, <strong>axis</strong>=None, <strong>inplace</strong>=False, limit=None, downcast=None, **kwargs)</p>
<p>填充空值，values可以是字典 <strong>values</strong> = {‘A’: 0, ‘B’: 1, ‘C’: 2, ‘D’: 3}</p>
<p>drop使用</p>
<ol>
<li>
<p><strong>dropna</strong>删除缺省值 df = df.drop(some labels) df = df.drop(df[<some boolean="" condition="">].index)</some></p>
<p>​	axis: 0(index)</p>
<p>​	how: any all</p>
<p>​	subset: label</p>
<p>​	inplace : bool</p>
</li>
<li>
<p><strong>drop</strong>删除 drop(labels(index, column labels), axis=0(行), level=None, inplace=False, errors=‘raise’)</p>
<p>​	axis: label</p>
<p>​	index, columns</p>
</li>
<li>
<p>**fillna **填充</p>
<p>​	fillna(value, method, limit)</p>
</li>
</ol>
<h3 id="step-3-选取字段"><a class="header-anchor" href="#step-3-选取字段">¶</a>Step 3: 选取字段</h3>
<ol>
<li>列
<ol>
<li>df[labels]</li>
</ol>
</li>
<li>行
<ol>
<li>df.loc[index_label,]</li>
<li>df.iloc[整数值,]</li>
</ol>
</li>
</ol>
<p>列[&quot;&quot;] 也可以传入条件语句</p>
<h3 id="描述性统计函数"><a class="header-anchor" href="#描述性统计函数">¶</a>描述性统计函数</h3>
<h4 id="sum-mean-count"><a class="header-anchor" href="#sum-mean-count">¶</a>sum().mean().count()</h4>
<p>​		axis:1;按列求和，水平线 。往右看；所有列计算</p>
<p>​		axis:0; 按行求和, 垂直线；把字段的所有的所有行和。往下按 ；所有行计算</p>
<h4 id="describle-transpose"><a class="header-anchor" href="#describle-transpose">¶</a>.describle() .transpose()</h4>
<h3 id="功能性函数"><a class="header-anchor" href="#功能性函数">¶</a>功能性函数</h3>
<h4 id="groupby"><a class="header-anchor" href="#groupby">¶</a>groupby[].</h4>
<h4 id="多个datafame归并"><a class="header-anchor" href="#多个datafame归并">¶</a>多个DataFame归并</h4>
<p>​    ### pd.merge(left, right, how=‘inner交集/Outer并集（存在不重合的key是’, on='key’可以是一个列表[])</p>
<h4 id="apply-方法-传入函数名：然后每一个元素都背计算"><a class="header-anchor" href="#apply-方法-传入函数名：然后每一个元素都背计算">¶</a>.apply()方法 传入函数名：然后每一个元素都背计算</h4>
<p>​    lambda x : x*x</p>
<h4 id="排序"><a class="header-anchor" href="#排序">¶</a>排序</h4>
<p>.sort_values()整个表格都这么排列</p>
<p>DataFrame.sort_values(by=[lables],axis=[0,1], ascending:, kind:排序算法，)</p>
<h3 id="日期类型-日期等数值处理"><a class="header-anchor" href="#日期类型-日期等数值处理">¶</a>日期类型: 日期等数值处理</h3>
<h4 id="str列转换成日期类型-pd-to-datetime"><a class="header-anchor" href="#str列转换成日期类型-pd-to-datetime">¶</a>str列转换成日期类型 pd.to_datetime</h4>
<p>注意非日期类型的特殊处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df[&apos;日期时间&apos;] = pd.to_datetime(df[&apos;日期时间&apos;],format=&apos;%Y/%m/%d %H:%M:%S&apos;)</span><br><span class="line"> </span><br><span class="line">#获取 日期数据 的年、月、日、时、分</span><br><span class="line">df[&apos;年&apos;] = df[&apos;日期时间&apos;].dt.year</span><br><span class="line">df[&apos;月&apos;] = df[&apos;日期时间&apos;].dt.month</span><br><span class="line">df[&apos;日&apos;] = df[&apos;日期时间&apos;].dt.day</span><br><span class="line">df[&apos;时&apos;] = df[&apos;日期时间&apos;].dt.hour</span><br><span class="line">df[&apos;分&apos;] = df[&apos;日期时间&apos;].dt.minute</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190403095153639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTg0Mzg4,size_16,color_FFFFFF,t_70" alt="img"></p>
<h4 id="指定类型"><a class="header-anchor" href="#指定类型">¶</a>指定类型</h4>
<p>​    method1 df1[‘year_month’] = df1[‘date’].apply(lambda x : x.strftime(’%Y-%m’))</p>
<p>​    method2 df1[‘period’] = df1[‘date’].dt.<strong>to_period</strong>(‘M’) 参数 M 表示月份，Q 表示季度，A 表示年度，D 表示按天</p>
<h4 id="strp-ftime"><a class="header-anchor" href="#strp-ftime">¶</a>strp/ftime</h4>
<p>字符串和日期的转换</p>
<p>strftime: time-&gt;str</p>
<p>strptime: str-&gt;time</p>
<h3 id="datetime-timedelta"><a class="header-anchor" href="#datetime-timedelta">¶</a>datetime.timedelta</h3>
<p>表示时间间隔，两个时间点之间的长度，主要用于时间计算,如时间序列预测的时候，需要外推，可能涉及到时间的计算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedelta(weeks=<span class="number">0</span>, days=<span class="number">0</span>, hours=<span class="number">0</span>, minutes=<span class="number">0</span>,  seconds=<span class="number">0</span>, milliseconds=<span class="number">0</span>, microseconds=<span class="number">0</span>, )		 <span class="comment">#依次为 "周" "天", "时","分","秒","毫秒","微秒"</span></span><br></pre></td></tr></table></figure>
<h4 id="datetime模块"><a class="header-anchor" href="#datetime模块">¶</a>datetime模块</h4>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">以公历形式存储日历日期（年、月、日）</td>
</tr>
<tr>
<td style="text-align:left">time</td>
<td style="text-align:left">将时间存储为时、分、秒、毫秒</td>
</tr>
<tr>
<td style="text-align:left">datetime</td>
<td style="text-align:left">存储日期和时间</td>
</tr>
</tbody>
</table>
<p><strong>1）python标准库函数</strong></p>
<p>日期转换成字符串：利用str 或strftime</p>
<p>字符串转换成日期：datetime.strptime</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">stamp = datetime(<span class="number">2017</span>,<span class="number">6</span>,<span class="number">27</span>)</span><br><span class="line">str(stamp)</span><br><span class="line"> <span class="string">'2017-06-27 00:00:00'</span></span><br><span class="line">stamp.strftime(<span class="string">'%y-%m-%d'</span>)<span class="comment">#%Y是4位年，%y是2位年</span></span><br><span class="line"> <span class="string">'17-06-27'</span></span><br><span class="line"><span class="comment">#对多个时间进行解析成字符串</span></span><br><span class="line">date = [<span class="string">'2017-6-26'</span>,<span class="string">'2017-6-27'</span>]</span><br><span class="line">datetime2 = [datetime.strptime(x,<span class="string">'%Y-%m-%d'</span>) <span class="keyword">for</span> x <span class="keyword">in</span> date]</span><br><span class="line">datetime2</span><br><span class="line">[datetime.datetime(<span class="number">2017</span>, <span class="number">6</span>, <span class="number">26</span>, <span class="number">0</span>, <span class="number">0</span>), datetime.datetime(<span class="number">2017</span>, <span class="number">6</span>, <span class="number">27</span>, <span class="number">0</span>, <span class="number">0</span>)]</span><br></pre></td></tr></table></figure>
<p><strong>3）pandas处理成组日期</strong></p>
<p>pandas通常用于处理成组日期，不管这些日期是DataFrame的轴索引还是列，to_datetime方法可以解析多种不同的日期表示形式。</p>
<p><strong>datetime 格式定义</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">代码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">%Y</td>
<td style="text-align:left">4位数的年</td>
</tr>
<tr>
<td style="text-align:left">%y</td>
<td style="text-align:left">2位数的年</td>
</tr>
<tr>
<td style="text-align:left">%m</td>
<td style="text-align:left">2位数的月[01,12]</td>
</tr>
<tr>
<td style="text-align:left">%d</td>
<td style="text-align:left">2位数的日[01，31]</td>
</tr>
<tr>
<td style="text-align:left">%H</td>
<td style="text-align:left">时（24小时制）[00,23]</td>
</tr>
<tr>
<td style="text-align:left">%l</td>
<td style="text-align:left">时（12小时制）[01,12]</td>
</tr>
<tr>
<td style="text-align:left">%M</td>
<td style="text-align:left">2位数的分[00,59]</td>
</tr>
<tr>
<td style="text-align:left">%S</td>
<td style="text-align:left">秒[00,61]有闰秒的存在</td>
</tr>
<tr>
<td style="text-align:left">%w</td>
<td style="text-align:left">用整数表示的星期几[0（星期天），6]</td>
</tr>
<tr>
<td style="text-align:left">%F</td>
<td style="text-align:left">%Y-%m-%d简写形式例如，2017-06-27</td>
</tr>
<tr>
<td style="text-align:left">%D</td>
<td style="text-align:left">%m/%d/%y简写形式</td>
</tr>
</tbody>
</table>
<h4 id="字符串转换成datetime格式-strptime"><a class="header-anchor" href="#字符串转换成datetime格式-strptime">¶</a>字符串转换成datetime格式: strptime</h4>
<p>datetime.strptime(str, ‘%Y/%m/%d’).date()</p>
<h4 id="datetime变回string格式-strftime"><a class="header-anchor" href="#datetime变回string格式-strftime">¶</a>datetime变回string格式: strftime</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;&quot;y&quot;: [1, 2, 3]&#125;,</span><br><span class="line">...                   index=pd.to_datetime([&quot;2000-03-31 00:00:00&quot;,</span><br><span class="line">...                                         &quot;2000-05-31 00:00:00&quot;,</span><br><span class="line">...                                         &quot;2000-08-31 00:00:00&quot;]))</span><br><span class="line">&gt;&gt;&gt; df.index.to_period(&quot;M&quot;)</span><br><span class="line">PeriodIndex([&apos;2000-03&apos;, &apos;2000-05&apos;, &apos;2000-08&apos;],</span><br><span class="line">            dtype=&apos;period[M]&apos;, freq=&apos;M&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="1-pd-period-参数：一个时间戳生成器"><a class="header-anchor" href="#1-pd-period-参数：一个时间戳生成器">¶</a>1–pd.Period()参数：一个时间戳生成器</h4>
<p><img src="https://upload-images.jianshu.io/upload_images/5798142-c03611e314662be4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/966/format/webp" alt="img"></p>
<h3 id="step-4-数据透析表-pivot-table"><a class="header-anchor" href="#step-4-数据透析表-pivot-table">¶</a>Step 4: 数据透析表 pivot_table</h3>
<h4 id="pivot-table-数据透析表-分类汇总的统计数据"><a class="header-anchor" href="#pivot-table-数据透析表-分类汇总的统计数据">¶</a>.pivot_table 数据透析表 分类汇总的统计数据</h4>
<p>​     (data,values= column to aggregate optional, index = grouper, columns=grouper, aggfunc:np.sum  )</p>
<p>​     table = pd.pivot_table(df, values=[‘D’, ‘E’], index=[‘A’, ‘C’], aggfunc={‘D’: np.mean, ‘E’: np.mean})</p>
<h3 id="groupby-v2"><a class="header-anchor" href="#groupby-v2">¶</a>.groupby()</h3>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-51af7d4ae64c2f78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>由于通过<code>groupby()</code>函数分组得到的是一个<code>DataFrameGroupBy</code>对象，而通过对这个对象调用<code>get_group()</code>，返回的则是一个·DataFrame·对象，所以可以将<code>DataFrameGroupBy</code>对象理解为是多个<code>DataFrame</code>组成的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grouped = df.groupby(<span class="string">'Gender'</span>)</span><br><span class="line">grouped_muti = df.groupby([<span class="string">'Gender'</span>, <span class="string">'Age'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(grouped.get_group(<span class="string">'Female'</span>))</span><br><span class="line">print(grouped_muti.get_group((<span class="string">'Female'</span>, <span class="number">17</span>)))</span><br><span class="line"></span><br><span class="line">    Name  Gender  Age  Score</span><br><span class="line"><span class="number">2</span>   Cidy  Female   <span class="number">18</span>     <span class="number">93</span></span><br><span class="line"><span class="number">4</span>  Ellen  Female   <span class="number">17</span>     <span class="number">96</span></span><br><span class="line"><span class="number">7</span>   Hebe  Female   <span class="number">22</span>     <span class="number">98</span></span><br><span class="line">    Name  Gender  Age  Score</span><br><span class="line"><span class="number">4</span>  Ellen  Female   <span class="number">17</span>     <span class="number">96</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(grouped.count())</span><br><span class="line">print(grouped.max()[[<span class="string">'Age'</span>, <span class="string">'Score'</span>]])</span><br><span class="line">print(grouped.mean()[[<span class="string">'Age'</span>, <span class="string">'Score'</span>]])</span><br><span class="line">        Name  Age  Score</span><br><span class="line">Gender                  </span><br><span class="line">Female     <span class="number">3</span>    <span class="number">3</span>      <span class="number">3</span></span><br><span class="line">Male       <span class="number">5</span>    <span class="number">5</span>      <span class="number">5</span></span><br><span class="line">        Age  Score</span><br><span class="line">Gender            </span><br><span class="line">Female   <span class="number">22</span>     <span class="number">98</span></span><br><span class="line">Male     <span class="number">21</span>    <span class="number">100</span></span><br><span class="line">         Age      Score</span><br><span class="line">Gender                 </span><br><span class="line">Female  <span class="number">19.0</span>  <span class="number">95.666667</span></span><br><span class="line">Male    <span class="number">19.6</span>  <span class="number">89.000000</span></span><br></pre></td></tr></table></figure>
<p>如果其中的函数无法满足你的需求，你也可以选择使用聚合函数<code>aggregate</code>，传递<code>numpy</code>或者自定义的函数，前提是返回一个聚合值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSum</span><span class="params">(data)</span>:</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> d <span class="keyword">in</span> data:</span><br><span class="line">        total+=d</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(grouped.aggregate(np.median))</span><br><span class="line">print(grouped.aggregate(&#123;<span class="string">'Age'</span>:np.median, <span class="string">'Score'</span>:np.sum&#125;))</span><br><span class="line">print(grouped.aggregate(&#123;<span class="string">'Age'</span>:getSum&#125;))</span><br></pre></td></tr></table></figure>
<p>迭代</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">grouped = df.groupby(<span class="string">'A'</span>)</span><br><span class="line"><span class="keyword">for</span> name, group <span class="keyword">in</span> grouped:</span><br><span class="line">	    print(name)</span><br><span class="line">  		print(group)</span><br><span class="line">        </span><br><span class="line">bar</span><br><span class="line">     A      B         C         D</span><br><span class="line"><span class="number">1</span>  bar    one  <span class="number">0.254161</span>  <span class="number">1.511763</span></span><br><span class="line"><span class="number">3</span>  bar  three  <span class="number">0.215897</span> <span class="number">-0.990582</span></span><br><span class="line"><span class="number">5</span>  bar    two <span class="number">-0.077118</span>  <span class="number">1.211526</span></span><br><span class="line">foo</span><br><span class="line">     A      B         C         D</span><br><span class="line"><span class="number">0</span>  foo    one <span class="number">-0.575247</span>  <span class="number">1.346061</span></span><br><span class="line"><span class="number">2</span>  foo    two <span class="number">-1.143704</span>  <span class="number">1.627081</span></span><br><span class="line"><span class="number">4</span>  foo    two  <span class="number">1.193555</span> <span class="number">-0.441652</span></span><br><span class="line"><span class="number">6</span>  foo    one <span class="number">-0.408530</span>  <span class="number">0.268520</span></span><br><span class="line"><span class="number">7</span>  foo  three <span class="number">-0.862495</span>  <span class="number">0.024580</span></span><br></pre></td></tr></table></figure>
<p>可视化</p>
<p>对组内的数据绘制概率密度分布：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grouped[<span class="string">'Age'</span>].plot(kind=<span class="string">'kde'</span>, legend=<span class="keyword">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>计算不同组的某一列的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.groupby(<span class="string">'race'</span>)[<span class="string">'age'</span>].mean()</span><br><span class="line">要求被不同种族内被击毙人员年龄的均值:</span><br></pre></td></tr></table></figure>
<p>对不同取值的计数: <code>.value_counts()</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.groupby(<span class="string">'race'</span>)[<span class="string">'signs_of_mental_illness'</span>].value_counts()</span><br><span class="line">求不同种族内, 是否有精神异常迹象的分别有多少人</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.groupby(<span class="string">'race'</span>)[<span class="string">'signs_of_mental_illness'</span>].value_counts().unstack()</span><br><span class="line">组内操作的结果不是单个值, 是一个序列, 我们可以用.unstack()将它展开，得到DateFrame</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.groupby(<span class="string">'race'</span>)[<span class="string">'flee'</span>].value_counts().unstack().plot(kind=<span class="string">'bar'</span>, figsize=(<span class="number">20</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-e149898f78d62a81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>这里有一个之前介绍的<code>.unstack</code>操作, 这会让你得到一个<code>DateFrame</code>, 然后调用条形图, pandas就会遍历每一个组(<code>unstack</code>后为每一行), 然后作各组的条形图</p>
<h3 id="按不同逃逸类型分组-组内的年龄分布是如何的"><a class="header-anchor" href="#按不同逃逸类型分组-组内的年龄分布是如何的">¶</a>按不同逃逸类型分组, 组内的年龄分布是如何的?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.groupby(<span class="string">'flee'</span>)[<span class="string">'age'</span>].plot(kind=<span class="string">'kde'</span>, legend=<span class="keyword">True</span>, figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/2862169-1a6135108e73ebc2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>这里<code>data.groupby('flee')['age']</code>是一个<code>SeriesGroupby</code>对象, 顾名思义, 就是每一个组都有一个<code>Series</code>. 因为划分了不同逃逸类型的组, 每一组包含了组内的年龄数据, 所以直接<code>plot</code>相当于遍历了每一个逃逸类型, 然后分别画分布图.</p>
<h3 id="step-5-写入表格"><a class="header-anchor" href="#step-5-写入表格">¶</a>Step 5: 写入表格</h3>
<p>to_csv（path_or_buf，sep，header: <strong>bool</strong> or list of str : default：true， index: <strong>bool</strong>, default true）</p>
<h2 id="字符串处理"><a class="header-anchor" href="#字符串处理">¶</a>字符串处理</h2>
<h3 id="多个字符串分割"><a class="header-anchor" href="#多个字符串分割">¶</a>多个字符串分割</h3>
<p>Python中的spilt方法只能通过指定的某个字符分割字符串，如果需要指定多个字符，需要用到re模块里的split方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; a = &quot;Hello world!How are you?My friend.Tom&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; re.split(&quot; |!|\?|\.&quot;, a)</span><br><span class="line"></span><br><span class="line">[&apos;Hello&apos;, &apos;world&apos;, &apos;How&apos;, &apos;are&apos;, &apos;you&apos;, &apos;My&apos;, &apos;friend&apos;, &apos;Tom&apos;]</span><br></pre></td></tr></table></figure>
<h3 id="去掉多余空格"><a class="header-anchor" href="#去掉多余空格">¶</a>去掉多余空格</h3>
<ol>
<li>filter</li>
</ol>
<p>aStr_splited = aStr.split(’ ')</p>
<p>print(filter(lambda x : x, aStr_splited))</p>
<p>list(filter(None,s.split(’,’)))</p>
<ol start="2">
<li>
<p>列表</p>
<p>[x for x in s.split(’,’) if x]</p>
</li>
</ol>
<h2 id="正则表达式"><a class="header-anchor" href="#正则表达式">¶</a>正则表达式</h2>
<p><a href="https://docs.python.org/zh-cn/3/library/re.html" target="_blank" rel="noopener">https://docs.python.org/zh-cn/3/library/re.html</a></p>
<p>正则表达式：一种特殊的字符串，用于查找某种形式的字符串，满足某种条件的格式。</p>
<p>用于查找，匹配</p>
<p>re模块</p>
<p>re.</p>
<p>pattern</p>
<p>​	[a-z] [abc]</p>
<p>​    [^ab]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d</span><br></pre></td></tr></table></figure>
<p>匹配任何十进制数字；这等价于类 <code>[0-9]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\D</span><br></pre></td></tr></table></figure>
<p>匹配任何非数字字符；这等价于类 <code>[^0-9]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\s</span><br></pre></td></tr></table></figure>
<p>匹配任何空白字符；这等价于类 <code>[ \t\n\r\f\v]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\S</span><br></pre></td></tr></table></figure>
<p>匹配任何非空白字符；这相当于类 <code>[^ \t\n\r\f\v]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\w</span><br></pre></td></tr></table></figure>
<p>匹配任何字母与数字字符；这相当于类 <code>[a-zA-Z0-9_]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\W</span><br></pre></td></tr></table></figure>
<p>匹配任何非字母与数字字符；这相当于类 <code>[^a-zA-Z0-9_]</code>。</p>
<p><code>ca*t</code> 将匹配 <code>'ct'</code> (0个 <code>'a'</code> 字符)，<code>'cat'</code> (1个 <code>'a'</code> )， <code>'caaat'</code> (3个 <code>'a'</code> 字符)</p>
<p>另一个重复的元字符是 <code>+</code>，它匹配一次或多次。 要特别注意 <code>*</code> 和 <code>+</code> 之间的区别；<code>*</code> 匹配 <em>零次</em> 或更多次，因此重复的任何东西都可能根本不存在，而 <code>+</code> 至少需要 <em>一次</em>。 使用类似的例子，<code>ca+t</code> 将匹配 <code>'cat'</code> (1 个 <code>'a'</code>)，<code>'caaat'</code> (3 个 <code>'a'</code>)，但不会匹配 <code>'ct'</code>。</p>
<p>最复杂的重复限定符是 <code>{m,n}</code>，其中 <em>m</em> 和 <em>n</em> 是十进制整数。 这个限定符意味着必须至少重复 <em>m</em> 次，最多重复 <em>n</em> 次。 例如，<code>a/{1,3}b</code> 将匹配 <code>'a/b'</code> ，<code>'a//b'</code> 和 <code>'a///b'</code> 。 它不匹配没有斜线的 <code>'ab'</code>，或者有四个的 <code>'a////b'</code>。</p>
<p><code>^</code>表示行的开头，<code>^\d</code>表示必须以数字开头。</p>
<p><code>$</code>表示行的结束，<code>\d$</code>表示必须以数字结束。</p>
<table>
<thead>
<tr>
<th style="text-align:left">方法 / 属性</th>
<th style="text-align:left">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>match()</code></td>
<td style="text-align:left">确定正则是否从字符串的开头匹配。</td>
</tr>
<tr>
<td style="text-align:left"><code>search()</code></td>
<td style="text-align:left">扫描字符串，查找此正则匹配的任何位置。</td>
</tr>
<tr>
<td style="text-align:left"><code>findall()</code></td>
<td style="text-align:left">找到正则匹配的所有子字符串，并将它们作为列表返回。</td>
</tr>
<tr>
<td style="text-align:left"><code>finditer()</code></td>
<td style="text-align:left">找到正则匹配的所有子字符串，并将它们返回为一个 <a href="https://docs.python.org/zh-cn/3/glossary.html#term-iterator" target="_blank" rel="noopener">iterator</a>。</td>
</tr>
</tbody>
</table>
<p>匹配对象返回值的函数</p>
<p>方法 / 属性</p>
<p>目的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group()</span><br></pre></td></tr></table></figure>
<p>返回正则匹配的字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start()</span><br></pre></td></tr></table></figure>
<p>返回匹配的开始位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">end()</span><br></pre></td></tr></table></figure>
<p>返回匹配的结束位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span()</span><br></pre></td></tr></table></figure>
<p>返回包含匹配 (start, end) 位置的元组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; m.group()</span><br><span class="line">&apos;tempo&apos;</span><br><span class="line">&gt;&gt;&gt; m.start(), m.end()</span><br><span class="line">(0, 5)</span><br><span class="line">&gt;&gt;&gt; m.span()</span><br><span class="line">(0, 5)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>re.``search</code>(<em>pattern</em>, <em>string</em>, <em>flags=0</em>)<a href="https://docs.python.org/zh-cn/3/library/re.html#re.search" target="_blank" rel="noopener">¶</a></p>
<p>扫描整个 <em>字符串</em> 找到匹配样式的第一个位置，并返回一个相应的 <a href="https://docs.python.org/zh-cn/3/library/re.html#match-objects" target="_blank" rel="noopener">匹配对象</a>。如果没有匹配，就返回一个 <code>None</code> ； 注意这和找到一个零长度匹配是不同的。</p>
</li>
<li>
<p><code>re.``match</code>(<em>pattern</em>, <em>string</em>, <em>flags=0</em>)</p>
<p>如果 <em>string</em> 开始的0或者多个字符匹配到了正则表达式样式，就返回一个相应的 <a href="https://docs.python.org/zh-cn/3/library/re.html#match-objects" target="_blank" rel="noopener">匹配对象</a> 。 如果没有匹配，就返回 <code>None</code> ；注意它跟零长度匹配是不同的。</p>
</li>
</ul>
<h2 id="matplotlib"><a class="header-anchor" href="#matplotlib">¶</a>Matplotlib</h2>
<p>import matplotlib.pyplot as plt</p>
<h3 id="plt-figure-画布"><a class="header-anchor" href="#plt-figure-画布">¶</a>plt.figure() 画布</h3>
<p><img src="https://pic3.zhimg.com/80/v2-307d460860c1df3e253e2ccaee95b41a_720w.jpg" alt="img"></p>
<h3 id="plt-subplot-划分子图"><a class="header-anchor" href="#plt-subplot-划分子图">¶</a>plt.subplot() 划分子图</h3>
<h3 id="基本属性"><a class="header-anchor" href="#基本属性">¶</a>基本属性</h3>
<h5 id="标题"><a class="header-anchor" href="#标题">¶</a>标题</h5>
<p><img src="https://pic4.zhimg.com/80/v2-2f83a0a82bffecc371460b865de580db_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-fc32e879695684b26c22273da2d9f904_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-1f9b00e3c04ded54f8b8197d512e65cb_720w.jpg" alt="img"></p>
<h5 id="market"><a class="header-anchor" href="#market">¶</a>market</h5>
<p><img src="https://pic4.zhimg.com/80/v2-18cee5ad639c2db35ef81b3a46afc8fb_720w.jpg" alt="img"></p>
<h5 id="linstyle"><a class="header-anchor" href="#linstyle">¶</a>linstyle</h5>
<ul>
<li>plt.text() 设置图内文本</li>
</ul>
<h5 id="轴标签"><a class="header-anchor" href="#轴标签">¶</a>轴标签</h5>
<ul>
<li>plt.xlabel() 设置坐标轴标签</li>
<li>plt.ylabel()</li>
</ul>
<h5 id="范围"><a class="header-anchor" href="#范围">¶</a>范围</h5>
<ul>
<li>
<p>plt.xlim() 设置坐标取值范围 元组</p>
</li>
<li>
<p>plt.ylim()</p>
</li>
<li>
<p>plt.imshow()</p>
</li>
<li>
<p>plt.axis(“off”)</p>
</li>
</ul>
<h3 id="设置记号刻度-刻度标签"><a class="header-anchor" href="#设置记号刻度-刻度标签">¶</a>设置记号刻度 刻度标签</h3>
<p>plt.xticks（[-np.pi，-np.pi / 2,0，np.pi / 2，np.pi]）</p>
<p>plt.yticks（[ -  1，0，+1]）</p>
<p>plt.xticks(new_ticks)<br>
plt.yticks([-2, -1.8, -1, 1.22, 3],<br>
[r’$really\ bad$’, r’$bad$’, r’$normal\ \alpha$’, r’$good$’, r’$really\ good$’])</p>
<h3 id="设置记号标签"><a class="header-anchor" href="#设置记号标签">¶</a>设置记号标签</h3>
<p>plt.xticks([-np.pi, -np.pi/2, 0, np.pi/2, np.pi],       [r’$-\pi$’, r’$-\pi/2$’, r’$0$’, r’$+\pi/2$’, r’$+\pi$’]) plt.yticks([-1, 0, +1],       [r’$-1$’, r’$0$’, r’$+1$’])</p>
<h3 id="设置坐标"><a class="header-anchor" href="#设置坐标">¶</a>设置坐标</h3>
<p>plt.plot([],[],)</p>
<p>linestyle marker marketsize</p>
<p><a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.plot.html" target="_blank" rel="noopener">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.plot.html</a></p>
<table>
<thead>
<tr>
<th><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_linestyle" target="_blank" rel="noopener"><code>linestyle</code></a> or ls</th>
<th>{’-’, ‘–’, ‘-.’, ‘:’, ‘’, (offset, on-off-seq), …}</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_linewidth" target="_blank" rel="noopener"><code>linewidth</code></a> or lw</td>
<td>float</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_marker" target="_blank" rel="noopener"><code>marker</code></a></td>
<td>marker style</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_markeredgecolor" target="_blank" rel="noopener"><code>markeredgecolor</code></a> or mec</td>
<td>color</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_markeredgewidth" target="_blank" rel="noopener"><code>markeredgewidth</code></a> or mew</td>
<td>float</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_markerfacecolor" target="_blank" rel="noopener"><code>markerfacecolor</code></a> or mfc</td>
<td>color</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_markerfacecoloralt" target="_blank" rel="noopener"><code>markerfacecoloralt</code></a> or mfcalt</td>
<td>color</td>
</tr>
<tr>
<td><a href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_markersize" target="_blank" rel="noopener"><code>markersize</code></a> or ms</td>
<td>float</td>
</tr>
</tbody>
</table>
<p>plt.axis([2011,2014,0.04,0.18])</p>
<p>plt.xticks(np.arange(2011,2015,1)) plt.yticks(np.arange(0.04,0.20,0.02))</p>
<p>plt.ylabel(“RMSE”)</p>
<p>plt.xlabel(&quot;(a) LSTM&quot;)</p>
<p>plt.grid(True）</p>
<p>plt.figure(2) #plt.subplot(222)</p>
<h2 id="pandas"><a class="header-anchor" href="#pandas">¶</a>pandas</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.plot(subplots=True, figsize=(6, 6)); plt.legend(loc=&apos;best&apos;)</span><br></pre></td></tr></table></figure>
<p><strong>data</strong> : DataFrame</p>
<p><strong>x</strong> : label or position, default None</p>
<p><strong>y</strong> : label or position, default None</p>
<blockquote>
<p>Allows plotting of one column versus another</p>
</blockquote>
<p><strong>kind</strong> : str</p>
<blockquote>
<ul>
<li>‘line’ : line plot (default)</li>
<li>‘bar’ : vertical bar plot</li>
<li>‘barh’ : horizontal bar plot</li>
<li>‘hist’ : histogram</li>
<li>‘box’ : boxplot</li>
<li>‘kde’ : Kernel Density Estimation plot</li>
<li>‘density’ : same as ‘kde’</li>
<li>‘area’ : area plot</li>
<li>‘pie’ : pie plot</li>
<li>‘scatter’ : scatter plot</li>
<li>‘hexbin’ : hexbin plot</li>
</ul>
</blockquote>
<p><strong>ax</strong> : matplotlib axes object, default None</p>
<h3 id="时间序列"><a class="header-anchor" href="#时间序列">¶</a>时间序列</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.dates <span class="keyword">as</span> mdates</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line">months = mdates.MonthLocator()</span><br><span class="line"></span><br><span class="line">dateFmt = mdates.DateFormatter(<span class="string">"%m/%d/%y"</span>)</span><br><span class="line"></span><br><span class="line">ax.xaxis.set_major_formatter(dateFmt)</span><br><span class="line">ax.xaxis.set_minor_locator(months)</span><br><span class="line">ax.tick_params(axis=<span class="string">"both"</span>, direction=<span class="string">"out"</span>, labelsize=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">date1 = datetime.date(<span class="number">2005</span>, <span class="number">8</span>, <span class="number">8</span>)</span><br><span class="line">date2 = datetime.date(<span class="number">2015</span>, <span class="number">6</span>, <span class="number">6</span>)</span><br><span class="line">delta = datetime.timedelta(days=<span class="number">5</span>)</span><br><span class="line">dates = mdates.drange(date1, date2, delta)</span><br><span class="line"></span><br><span class="line">y = np.random.normal(<span class="number">100</span>, <span class="number">15</span>, len(dates))</span><br><span class="line"></span><br><span class="line">ax.plot_date(dates, y, <span class="string">"#FF8800"</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h4 id="plot"><a class="header-anchor" href="#plot">¶</a>plot()</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">DataFrame.plot(self, *args, **kwargs)</span><br><span class="line">kindstr</span><br><span class="line">The kind of plot to produce:</span><br><span class="line">‘line’ : line plot (default)</span><br><span class="line">‘bar’ : vertical bar plot</span><br><span class="line">‘barh’ : horizontal bar plot</span><br><span class="line">‘hist’ : histogram</span><br><span class="line">‘box’ : boxplot</span><br><span class="line">‘kde’ : Kernel Density Estimation plot</span><br><span class="line">‘density’ : same as ‘kde’</span><br><span class="line">‘area’ : area plot</span><br><span class="line">‘pie’ : pie plot</span><br><span class="line">‘scatter’ : scatter plot</span><br><span class="line">‘hexbin’ : hexbin plot.</span><br><span class="line"></span><br><span class="line">figsizea tuple (width, height) in inches</span><br><span class="line">x :label</span><br><span class="line">y:label</span><br><span class="line">xlim:</span><br><span class="line">xticks:</span><br><span class="line">title</span><br><span class="line"></span><br><span class="line">pandas.DataFrame.plot.bar</span><br><span class="line">pandas.DataFrame.plot.barh</span><br><span class="line">pandas.DataFrame.plot.box</span><br><span class="line">pandas.DataFrame.plot.density</span><br><span class="line">pandas.DataFrame.plot.hexbin</span><br><span class="line">pandas.DataFrame.plot.hist</span><br><span class="line">pandas.DataFrame.plot.kde</span><br><span class="line">pandas.DataFrame.plot.line</span><br><span class="line">pandas.DataFrame.plot.pie</span><br><span class="line">pandas.DataFrame.plot.scatter</span><br><span class="line">pandas.DataFrame.boxplot</span><br><span class="line">pandas.DataFrame.hist</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/fengbingchun/article/details/81035861?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase" target="_blank" rel="noopener">https://blog.csdn.net/fengbingchun/article/details/81035861?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.nonecase</a></p>
<p><a href="https://www.cnblogs.com/Summer-skr--blog/p/11705925.html" target="_blank" rel="noopener">https://www.cnblogs.com/Summer-skr–blog/p/11705925.html</a></p>
<h3 id="时间序列绘图"><a class="header-anchor" href="#时间序列绘图">¶</a>时间序列绘图</h3>
<p>坐标轴xtick设置方法<br>
plt.xticks(statiem,[datetime.strftime(x,’%Y-%m’) for x in statiem])</p>
<h2 id="注意事项"><a class="header-anchor" href="#注意事项">¶</a>注意事项</h2>
<h3 id="list-dict-的拷贝"><a class="header-anchor" href="#list-dict-的拷贝">¶</a>list() dict()的拷贝</h3>
<p>1、<strong>b = a:</strong> 赋值引用，a 和 b 都指向同一个对象。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2017/03/1489720931-7116-4AQC6.png" alt="img"></p>
<p><strong>2、b = a.copy():</strong> 浅拷贝, a 和 b 是一个独立的对象，但他们的子对象还是指向统一对象（是引用）。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2017/03/1489720930-6827-Vtk4m.png" alt="img"></p>
<p><strong>b = copy.deepcopy(a):</strong> 深度拷贝, a 和 b 完全拷贝了父对象及其子对象，两者是完全独立的。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2017/03/1489720930-5882-BO4qO.png" alt="img"></p>
<h1>Linux</h1>
<h2 id="nohup"><a class="header-anchor" href="#nohup">¶</a>nohup</h2>
<p>linux后台执行命令：&amp;和nohup</p>
<p>用途：不挂断地运行命令。</p>
<p>语法：nohup Command [ Arg … ] [　&amp; ]</p>
<p>例子： nohup sh <a href="http://example.sh" target="_blank" rel="noopener">example.sh</a> &amp;</p>
<p><code>nohup</code> 命令可以使命令永久的执行下去，和终端没有关系，退出终端也不会影响程序的运行；<br>
<code>&amp;</code> 是后台运行的意思，但当用户退出的时候，命令自动也跟着退出。<br>
<strong>那么，把两个结合起来<code>nohup 命令 &amp;</code>这样就能使命令永久的在后台执行</strong></p>
<p><code>nohup 命令 &gt; output.log 2&gt;&amp;1 &amp;</code>让命令在后台执行。</p>
<p>其中 0、1、2分别代表如下含义：<br>
0 – stdin (standard input)<br>
1 – stdout (standard output)<br>
2 – stderr (standard error)</p>
<p><code>nohup</code>+最后面的<code>&amp;</code>是让命令在后台执行</p>
<p><code>&gt;output.log</code> 是将信息输出到output.log日志中</p>
<p><code>2&gt;&amp;1</code>是将标准错误信息转变成标准输出，这样就可以将错误信息输出到output.log 日志里面来。</p>
<p>&amp; 后台执行<br>
&gt;  输出到<br>
不过联合使用也有其他意思，比如nohup输出重定向上的应用<br>
例子：nohup <a href="http://abc.sh" target="_blank" rel="noopener">abc.sh</a> &gt; nohup.log 2&gt;&amp;1 &amp;<br>
其中2&gt;&amp;1  指将<a href="https://www.baidu.com/s?wd=STDERR&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">STDERR</a>重定向到前面标准输出定向到的同名文件中，即&amp;1就是nohup.log</p>
<h2 id="ps-ef-grep-python"><a class="header-anchor" href="#ps-ef-grep-python">¶</a>ps -ef|grep python</h2>
<p>ps命令将某个进程显示出来</p>
<p>grep命令是查找</p>
<p>中间的|是管道命令 是指ps命令与grep同时执行</p>
<p>PS是LINUX下最常用的也是非常强大的进程查看命令</p>
<p>grep命令 是查找， 是一种强大的文本搜索工具，它能 <a href="https://www.baidu.com/s?wd=%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9uWD3PhP9n1b4m1nduAcz0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPjfvrHnzPWT3" target="_blank" rel="noopener">使用正则表达式 </a>搜索文本，并把匹 配的行打印出来。</p>
<p>grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</p>
<p>以下这条命令是检查 java 进程是否存在：ps -ef |grep java</p>
<p>字段含义如下：<br>
UID    PID    PPID    C   STIME   TTY    TIME     CMD</p>
<p>zzw   14124  13991   0   00:38   pts/0   00:00:00  grep --color=auto dae</p>
<p><strong>UID   ：程序被该 UID 所拥有</strong></p>
<p><strong>PID   ：就是这个程序的 ID</strong></p>
<p><strong>PPID  ：则是其上级父程序的ID</strong></p>
<p><strong>C     ：CPU使用的资源百分比</strong></p>
<p><strong>STIME ：系统启动时间</strong></p>
<p><strong>TTY   ：登入者的终端机位置</strong></p>
<p><strong>TIME  ：使用掉的CPU时间。</strong></p>
<p><strong>CMD  ：所下达的是什么指令</strong></p>

          
        
      
    </div>

    

    
    
    

    

    

    
<div>
  
</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiemaycherry.github.io/2019/05/12/Deel Learning ai_Convolutional Neural Networks/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieMay">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/12/Deel Learning ai_Convolutional Neural Networks/" itemprop="url">Networks</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-12T19:31:06+08:00">2019-05-12</time>
            

            
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Deep-Learning/" itemprop="url" rel="index"><span itemprop="name">Deep Learning</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/12/Deel Learning ai_Convolutional Neural Networks/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/12/Deel Learning ai_Convolutional Neural Networks/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article&#58;</span>
                
                <span title="Symbols count in article">
                22k字
              </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1>C4 : Convolutional Neural Networks(卷积神经网络)</h1>
<h2 id="w1-convolutional-neural-networks-卷积神经网络"><a class="header-anchor" href="#w1-convolutional-neural-networks-卷积神经网络">¶</a>W1 :Convolutional Neural Networks(卷积神经网络)</h2>
<h3 id="l1-computer-vision"><a class="header-anchor" href="#l1-computer-vision">¶</a>L1: Computer Vision</h3>
<ol>
<li>Image classification</li>
<li>Object detection</li>
<li>Neural Style Transfer</li>
</ol>
<p>Problem : input big</p>
<ol>
<li>神经网络结构复杂，数据量相对较少，容易出现过拟合；</li>
<li>所需内存和计算量巨大。</li>
</ol>
<h3 id="l2-edge-detection-example"><a class="header-anchor" href="#l2-edge-detection-example">¶</a>L2: Edge detection example</h3>
<p>我们之前提到过，神经网络由浅层到深层，分别可以检测出图片的边缘特征、局部特征（例如眼睛、鼻子等），到最后面的一层就可以根据前面检测的特征来识别整体面部轮廓。这些工作都是依托卷积神经网络来实现的。</p>
<p>**卷积运算（Convolutional Operation）**是卷积神经网络最基本的组成部分。我们以边缘检测为例，来解释卷积是怎样运算的。</p>
<ol>
<li>
<p>常见的边缘检测</p>
<p>垂直边缘（Vertical Edges) 和 水平边缘（horizontal Edges)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Different-edges.png)</p>
</li>
</ol>
<p>这张图的栏杆就对应垂直线，栏杆的水平线是水平边缘。</p>
<p>那么图片是怎么检测边缘的呢？</p>
<p>过滤器：filter</p>
<p>在数学中“”就是卷积的标准标志，但是在<strong>Python</strong>中，这个标识常常被用来表示乘法或者元素乘法。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_1.png)</p>
<p>Output; 4 by 4</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_1——2.png)</p>
<p>具体运算：</p>
<p>1）</p>
<p>为了计算第一个元素，在4×4左上角的那个元素，使用3×3的过滤器，将其覆盖在输入图像，如下图所示。然后进行元素乘法（<strong>element-wise products</strong>）运算</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_1_3png.png)</p>
<p>2）为了弄明白第二个元素是什么，你要把蓝色的方块，向右移动一步，像这样，把这些绿色的标记去掉：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_1_4png.png)</p>
<p>6×6矩阵和3×3矩阵进行卷积运算得到4×4矩阵。这些图片和过滤器是不同维度的矩阵，但左边矩阵容易被理解为一张图片，中间的这个被理解为过滤器，右边的图片我们可以理解为另一张图片。这个就是垂直边缘检测器。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Convolutional-operation.jpg)</p>
<p>举例说明： Vertical edge detection</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_1_5.png)</p>
<p>这里在结果可能有点不对头，检测到的边缘太粗了，主要是图片太小了，</p>
<p>卷积操作API</p>
<ul>
<li>在 Python 中，卷积用<code>conv_forward()</code>表示；</li>
<li>在 Tensorflow 中，卷积用<code>tf.nn.conv2d()</code>表示；</li>
<li>在 keras 中，卷积用<code>Conv2D()</code>表示。</li>
</ul>
<h3 id="l3-edge-detection-example"><a class="header-anchor" href="#l3-edge-detection-example">¶</a>L3: Edge Detection Example</h3>
<ol>
<li>
<p>颜色由暗到亮，还是亮到暗</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_1.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_2.png)</p>
</li>
</ol>
<p>这种滤波器可以区分明暗变化，取绝对值没有区别了</p>
<ol start="2">
<li>
<p>水平边缘</p>
<p>上边相对较亮，而下方相对较暗</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_3.png)</p>
<ol start="3">
<li>复杂栗子</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_4.png)</p>
</li>
</ol>
<p>这块区域左边两列是正边，右边一列是负边，正边和负边的值加在一起得到了一个中间值。但假如这个一个非常大的1000×1000的类似这样棋盘风格的大图，就不会出现这些亮度为10的过渡带了，因为图片尺寸很大，这些中间值就会变得非常小。</p>
<ol start="3">
<li>filter</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_5.png)</p>
<p>sobel过滤器，优点在于增加了中间一行元素的权重，这使得结果的鲁棒性会更高一些。</p>
<p>charr过滤器，它有着和之前完全不同的特性，实际上也是一种垂直边缘检测，如果你将其翻转90度，你就能得到对应水平边缘检测。</p>
<p>学习的其中一件事就是当你真正想去检测出复杂图像的边缘，你不一定要去使用那些研究者们所选择的这九个数字，但你可以从中获益匪浅。把这矩阵中的9个数字当成9个参数，并且在之后你可以学习使用反向传播算法，其目标就是去理解这9个参数。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_6.png)</p>
<p>这样可能得到一个出色的边缘检测</p>
<p>相比这种单纯的垂直边缘和水平边缘，它可以检测出45°或70°或73°，甚至是任何角度的边缘。所以将矩阵的所有数字都设置为参数，通过数据反馈，让神经网络自动去学习它们，我们会发现神经网络可以学习一些低级的特征，例如这些边缘的特征。</p>
<p>不管是垂直的边缘，水平的边缘，还有其他奇怪角度的边缘，甚至是其它的连名字都没有的过滤器。</p>
<h3 id="padding"><a class="header-anchor" href="#padding">¶</a>Padding</h3>
<p>按照我们上面讲的图片卷积，如果原始图片尺寸为$n x n$，filter尺寸为$f x f$，则卷积后的图片尺寸为$(n-f+1) x (n-f+1)$，注意f一般为奇数。这样会带来两个问题：</p>
<ul>
<li>
<p><strong>卷积运算后，输出图片尺寸缩小</strong></p>
</li>
<li>
<p><strong>原始图片边缘信息对输出贡献得少，输出图片丢失边缘信息</strong></p>
<p>边缘像素点只被一个输出所触碰或者使用，</p>
</li>
</ul>
<p>为了解决这些问题，可以在进行卷积操作前，对原始图片在边界上进行<strong>填充（Padding）</strong>，以增加矩阵的大小。通常将 0 作为填充值。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Padding.jpg)</p>
<p>经过padding之后，填充p,原始图片尺寸为$(n+2p) x (n+2p)$，filter尺寸为$f x f$，则卷积后的图片尺寸为$(n+2p-f+1) x (n+2p-f+1)$。若要保证卷积前后图片尺寸不变，则p应满足：$ p=(f-1)/2$,f通常是奇数，如果是偶数，造成不对称填充，第二个原因是当你有一个奇数维过滤器，比如3×3或者5×5的，它就有一个中心点。有时在计算机视觉里，如果有一个中心像素点会更方便，便于指出过滤器的位置</p>
<ol>
<li>p=0,Valid convolution</li>
<li>p=((f-1))/2,Same convolution</li>
</ol>
<h3 id="l05-strided-convolution-卷积步长"><a class="header-anchor" href="#l05-strided-convolution-卷积步长">¶</a>L05: Strided convolution（卷积步长）</h3>
<p>Stride表示filter在原图片中水平方向和垂直方向每次的步进长度。之前我们默认stride=1。若stride=2，则表示filter每次步进长度为2，即隔一点移动一次。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Stride.jpg)</p>
<p>我们用s表示stride长度，p表示padding长度，如果原始图片尺寸为n x n，filter尺寸为f x f，则卷积后的图片尺寸为：<br>
$$<br>
\left\lfloor\frac{n+2 p-f}{s}+1\right\rfloor X\left\lfloor\frac{n+2 p-f}{s}+1\right\rfloor<br>
$$<br>
向下取整</p>
<p>目前为止我们学习的“卷积”实际上被称为<strong>互相关（cross-correlation）</strong>，而非数学意义上的卷积。真正的卷积操作在做元素乘积求和之前，要将滤波器沿水平和垂直轴翻转（相当于旋转 180 度）。因为这种翻转对一般为水平或垂直对称的滤波器影响不大，按照机器学习的惯例，我们通常不进行翻转操作，在简化代码的同时使神经网络能够正常工作。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_6.png)</p>
<p>互相关：过滤器沿水平和垂直轴翻转，元素相乘来计算，这些视频中定义卷积运算时，我们跳过了这个镜像操作。（不进行翻转操作）叫做卷积操作</p>
<h3 id="l06-convolution-over-volumes-三维卷积"><a class="header-anchor" href="#l06-convolution-over-volumes-三维卷积">¶</a>L06: Convolution over volumes(三维卷积)</h3>
<ol>
<li>
<p>卷积运算</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Convolutions-on-RGB-image.png)</p>
</li>
</ol>
<p>过程是将每个单通道（R，G，B）与对应的filter进行卷积运算求和，然后再将3通道的和相加，得到输出图片的一个像素值。</p>
<p>不同通道的滤波算子可以不相同。例如R通道filter实现垂直边缘检测，G和B通道不进行边缘检测，全部置零，或者将R，G，B三通道filter全部设置为水平边缘检测。</p>
<p>为了进行多个卷积运算，实现更多边缘检测，可以增加更多的滤波器组。例如设置第一个滤波器组实现垂直边缘检测，第二个滤波器组实现水平边缘检测。这样，不同滤波器组卷积得到不同的输出，个数由滤波器组决定。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_8.png)</p>
<p>为了进行多个卷积运算，实现更多边缘检测，可以增加更多的滤波器组。例如设置第一个滤波器组实现垂直边缘检测，第二个滤波器组实现水平边缘检测。这样，不同滤波器组卷积得到不同的输出，个数由滤波器组决定。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_9.png)</p>
<p>若输入图片的尺寸为n x n x nc，nc: 通道数目，filter尺寸为f x f x nc，则卷积后的图片尺寸为(n-f+1) x (n-f+1) x nc′。其中，nc为图片通道数目，nc′为滤波器组个数。</p>
<h3 id="l7-one-layer-of-a-convolution-network-单层神经网络"><a class="header-anchor" href="#l7-one-layer-of-a-convolution-network-单层神经网络">¶</a>L7 : One layer of a convolution network (单层神经网络)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_10.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_11.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_12.png)</p>
<p>CNN单层的所以标记符号，设层数$l$,<br>
$$<br>
\begin{array}{l}{f^{[l]}=\text { filter size }} \ {p^{[l]}=\text { padding }} \ {g^{[l]}=\text { stride }} \ {n_{c}^{[l]}=\text { number of filters }}\end{array}<br>
$$<br>
![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_13.png)<br>
$$<br>
\begin{array}{c}{n_{H}<sup>{[l]}=\left\lfloor\frac{n_{H}</sup>{[l-1]}+2 p<sup>{[l]}-f</sup>{[l]}}{s^{[l]}}+1\right\rfloor} \ { n_{W}<sup>{[l]}=\left\lfloor\frac{n_{W}</sup>{[l-1]}+2 p<sup>{[l]}-f</sup>{[l]}}{s^{[l]}}+1\right\rfloor}\end{array}<br>
$$<br>
如果$m$个样本，进行向量化运算，相应的输出维度，为<br>
$$<br>
\mathrm{m} \times n_{H}^{[l]} \times n_{W}^{[l]} \times n_{c}^{[l]}<br>
$$</p>
<h3 id="l8-a-simple-convolution-network-example-简单卷积网络示例"><a class="header-anchor" href="#l8-a-simple-convolution-network-example-简单卷积网络示例">¶</a>L8 : A simple convolution network example（简单卷积网络示例）</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Xnip2018-07-04_08-28-33.jpg)</p>
<ul>
<li>一般而言，<strong>图片的height $n^{[l]}_{H}$和width $n^{[l]}_W$随着层数的增加逐渐降低，但channel $n^{[l]}_C$逐渐增加</strong>。</li>
</ul>
<p>CNN有三种类型的layer：</p>
<ul>
<li>Convolution层（CONV）</li>
<li>Pooling层（POOL）</li>
<li>Fully connected层（FC）</li>
</ul>
<h3 id="l9-pooling-layers-池化层"><a class="header-anchor" href="#l9-pooling-layers-池化层">¶</a>L9: Pooling layers(池化层)</h3>
<p>卷积神经网络除了卷积层，还有池化层来缩减模型的大小，提高运算速度和鲁棒性</p>
<ol>
<li>池的类型有max pooling(最大池化)</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_14.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_15.png)</p>
<p>这里步幅是s=2，filter = 2*2是最大池化的超参数,如果是三维，则单独在每个通道执行最大池化操作</p>
<p>关于max pooling的直觉解释： 元素较大的值，可能是卷积过程中提取到的某些特征（比如边界），而max pooling则在压缩了矩阵大小的情况下，保留每个分区内最大的输出，即保留了提取的特征。但理论上还没有证明max pooling的原理，max pooling应用的原因是在实践中效果很好。</p>
<ol start="2">
<li>
<p>Pooling layer: Average pooling</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_16.png)</p>
<p>但是最大池化更好用</p>
</li>
</ol>
<p>summary : 输入$n_H<em>n_W</em>n_C$,如果没有padding,输出$(n_h-f)/s+1*(n_w-f)/s+1*n_c$</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_17.png)</p>
<h3 id="l10-convolutional-neural-network-example-卷积神经网络实例"><a class="header-anchor" href="#l10-convolutional-neural-network-example-卷积神经网络实例">¶</a>L10: Convolutional neural network example (卷积神经网络实例)</h3>
<p>做一个识别数字的CNN网络</p>
<ol>
<li>
<p>LeNet-5架构如下：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\CNN.jpg)</p>
<ul>
<li>通常Conv Layer和Pooling Layer合在一起算一个layer，因为pooling layer并没有参数训练</li>
</ul>
</li>
</ol>
<ul>
<li>常见的结构：Conv ==&gt; Pool ==&gt; Conv ==&gt; Pool ==&gt; FC ==&gt; FC ==&gt; softmax</li>
<li>最终还会用FC层（全连接层），与一般NN的处理一样；并在输出层，应用softmax得到10个数字的概率。</li>
<li>在整个网络中，Height和Width是逐渐递减的，但channel和filter是递增的。</li>
<li>关于CNN如何选择超参：可以参考论文的经验。</li>
<li>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_18.png)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Activation shape</th>
<th style="text-align:center">Activation Size</th>
<th>#parameters</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>Input:</strong></td>
<td style="text-align:center">(32, 32, 3)</td>
<td style="text-align:center">3072</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>CONV1(f=5, s=1)</strong></td>
<td style="text-align:center">(28, 28, 6)</td>
<td style="text-align:center">4704</td>
<td>156 (=5<em>5</em>6+6)</td>
</tr>
<tr>
<td style="text-align:center"><strong>POOL1</strong></td>
<td style="text-align:center">(14, 14, 6)</td>
<td style="text-align:center">1176</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>CONV2(f=5, s=1)</strong></td>
<td style="text-align:center">(10, 10, 16)</td>
<td style="text-align:center">1600</td>
<td>416 (=5<em>5</em>16+16)</td>
</tr>
<tr>
<td style="text-align:center"><strong>POOL2</strong></td>
<td style="text-align:center">(5, 5, 16)</td>
<td style="text-align:center">400</td>
<td>0</td>
</tr>
<tr>
<td style="text-align:center"><strong>FC3</strong></td>
<td style="text-align:center">(120, 1)</td>
<td style="text-align:center">120</td>
<td>48120 (=120*400+120)</td>
</tr>
<tr>
<td style="text-align:center"><strong>FC4</strong></td>
<td style="text-align:center">(84, 1)</td>
<td style="text-align:center">84</td>
<td>10164 (=84*120+84)</td>
</tr>
<tr>
<td style="text-align:center"><strong>Softmax</strong></td>
<td style="text-align:center">(10, 1)</td>
<td style="text-align:center">10</td>
<td>850 (=10*84+10)</td>
</tr>
</tbody>
</table>
<h3 id="l11-why-convolution"><a class="header-anchor" href="#l11-why-convolution">¶</a>L11 Why convolution</h3>
<ul>
<li>
<p>参数共享（parameter sharing)</p>
<p>如果用FC的话，参数爆炸啊！如果conv layer 就需要filter检测器，这个参数就少了，还参数共享</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_19.png)</p>
</li>
<li>
<p>稀疏连接(sparsity of connection)</p>
<p>输出中的每个单元仅和输入的一个小分区相关，比如输出的左上角的像素仅仅由输入左上角的9个像素决定（假设filter大小是3*3），而其他输入都不会影响。</p>
</li>
</ul>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_20.png)</p>
<h2 id="summary"><a class="header-anchor" href="#summary">¶</a>summary</h2>
<p><font color="read">1. 卷积神经网络的基本构造和计算过程 2. 如何整合这些模型 3.  哪些超参数 4. 为什么使用卷积 </font></p>
<h2 id="w2-deep-convolutional-models-case-studies-深度卷积网络：实例探究"><a class="header-anchor" href="#w2-deep-convolutional-models-case-studies-深度卷积网络：实例探究">¶</a>W2 : Deep convolutional models: case studies(深度卷积网络：实例探究)</h2>
<h3 id="l1-why-look-at-case-studies-为什么要进行实例探究？"><a class="header-anchor" href="#l1-why-look-at-case-studies-为什么要进行实例探究？">¶</a>L1 : Why look at case studies?(为什么要进行实例探究？)</h3>
<p>本文将主要介绍几个典型的CNN案例。通过对具体CNN模型及案例的研究，来帮助我们理解知识并训练实际的模型。</p>
<p>典型的CNN模型包括：</p>
<ul>
<li><strong>LeNet-5</strong></li>
<li><strong>AlexNet</strong></li>
<li><strong>VGG</strong></li>
</ul>
<p>还会介绍Residual Network（ResNet）。其特点是可以构建很深很深的神经网络（目前最深的好像有152层）。还会介绍Inception Neural Network</p>
<h3 id="l2-classic-networks-经典网络"><a class="header-anchor" href="#l2-classic-networks-经典网络">¶</a>L2 : Classic networks(经典网络)</h3>
<h4 id="1-lenet-5"><a class="header-anchor" href="#1-lenet-5">¶</a>1. LeNet-5</h4>
<p><strong>LeNet-5</strong>是针对灰度图片训练的，使用6个5×5的过滤器，步幅为1。由于使用了6个过滤器，步幅为1，<strong>padding</strong>为0，输出结果为28×28×6，图像尺寸从32×32缩小到28×28。然后进行池化操作，在这篇论文写成的那个年代，人们更喜欢使用平均池化，而现在我们可能用最大池化更多一些。在这个例子中，我们进行平均池化，过滤器的宽度为2，步幅为2，图像的尺寸，高度和宽度都缩小了2倍，输出结果是一个14×14×6的图像。我觉得这张图片应该不是完全按照比例绘制的，如果严格按照比例绘制，新图像的尺寸应该刚好是原图像的一半。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Xnip2018-07-04_08-28-34.jpg)</p>
<p>该LeNet模型总共包含了大约6万个参数。值得一提的是，当时Yann LeCun提出的LeNet-5模型池化层使用的是average pool，而且各层激活函数一般是Sigmoid和tanh。现在，我们可以根据需要，做出改进，使用max pool和激活函数ReLU。</p>
<h4 id="1-alexnet"><a class="header-anchor" href="#1-alexnet">¶</a>1. AlexNet</h4>
<p>AlexNet模型是由Alex Krizhevsky、Ilya Sutskever和Geoffrey Hinton共同提出的，其结构如下所示：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Xnip2018-07-04_08-28-35.jpg)</p>
<p><strong>AlexNet</strong>首先用一张227×227×3的图片作为输入，实际上原文中使用的图像是224×224×3，但是如果你尝试去推导一下，你会发现227×227这个尺寸更好一些。第一层我们使用96个11×11的过滤器，步幅为4，由于步幅是4，因此尺寸缩小到55×55，缩小了4倍左右。然后用一个3×3的过滤器构建最大池化层,f=3，步幅为2，卷积层尺寸缩小为27×27×96。接着再执行一个5×5的卷积，<strong>padding</strong>之后，输出是27×27×276。然后再次进行最大池化，尺寸缩小到13×13。再执行一次<strong>same</strong>卷积，相同的<strong>padding</strong>，得到的结果是13×13×384，384个过滤器。再做一次<strong>same</strong>卷积，就像这样。再做一次同样的操作，最后再进行一次最大池化，尺寸缩小到6×6×256。6×6×256等于9216，将其展开为9216个单元，然后是一些全连接层。最后使用<strong>softmax</strong>函数输出识别的结果，看它究竟是1000个可能的对象中的哪一个。</p>
<p>实际上，这种神经网络与<strong>LeNet</strong>有很多相似之处，不过<strong>AlexNet</strong>要大得多。正如前面讲到的<strong>LeNet</strong>或<strong>LeNet-5</strong>大约有6万个参数，而<strong>AlexNet</strong>包含约6000万个参数。当用于训练图像和数据集时，<strong>AlexNet</strong>能够处理非常相似的基本构造模块，这些模块往往包含着大量的隐藏单元或数据，这一点<strong>AlexNet</strong>表现出色。<strong>AlexNet</strong>比<strong>LeNet</strong>表现更为出色的另一个原因是它使用了<strong>ReLu</strong>激活函数。原作者还提到了一种优化技巧，叫做Local Response Normalization(LRN)。 而在实际应用中，LRN的效果并不突出。</p>
<h4 id="3-vgg-16"><a class="header-anchor" href="#3-vgg-16">¶</a>3. VGG-16</h4>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Xnip2018-07-04_08-28-36.jpg)</p>
<p>首先用3×3，步幅为1的过滤器构建卷积层，<strong>padding</strong>参数为<strong>same</strong>卷积中的参数。然后用一个2×2，步幅为2的过滤器构建最大池化层。因此<strong>VGG</strong>网络的一大优点是它确实简化了神经网络结构，下面我们具体讲讲这种网络结构。</p>
<p>数字16，就是指在这个网络中包含16个卷积层和全连接层。总共包含约1.38亿个参数</p>
<h3 id="l3-residual-networks-resnets-残差网络-resnets"><a class="header-anchor" href="#l3-residual-networks-resnets-残差网络-resnets">¶</a>L3 : Residual Networks (ResNets)(残差网络(ResNets))</h3>
<p>我们知道，如果神经网络层数越多，网络越深，源于梯度消失和梯度爆炸的影响，整个模型难以训练成功。解决的方法之一是人为地让神经网络某些层跳过下一层神经元的连接，隔层相连，弱化每层之间的强联系。这种神经网络被称为Residual Networks(ResNets)。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_21.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Residual-Network.jpg)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\ResNet-Training-Error.jpg)</p>
<h3 id="l4-why-resnets-work-残差网络为什么有用？"><a class="header-anchor" href="#l4-why-resnets-work-残差网络为什么有用？">¶</a>L4: Why ResNets work?(残差网络为什么有用？)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_22.png)</p>
<p>因此，这两层额外的残差块不会降低网络性能。而如果没有发生梯度消失时，训练得到的非线性关系会使得表现效果进一步提高。</p>
<p>注意，如果$ a[l]$与 $a[l+2]$的维度不同，需要引入矩阵 $W_s$与 $a_{[l]}$相乘，使得二者的维度相匹配。参数矩阵 $W_s$既可以通过模型训练得到，也可以作为固定值，仅使 $a[l]$截断或者补零。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Xnip2018-07-04_08-28-37.jpg)</p>
<h3 id="l5-network-in-network-and-1-1-convolutions-网络中的网络以及-1-1-卷积"><a class="header-anchor" href="#l5-network-in-network-and-1-1-convolutions-网络中的网络以及-1-1-卷积">¶</a>L5 : Network in Network and 1×1 convolutions(网络中的网络以及 1×1 卷积)</h3>
<ol>
<li>作用</li>
</ol>
<p>假设这是一个28×28×192的输入层，你可以使用池化层压缩它的高度和宽度，这个过程我们很清楚。但如果通道数量很大，该如何把它压缩为28×28×32维度的层呢？你可以用32个大小为1×1的过滤器，严格来讲每个过滤器大小都是1×1×192维，因为过滤器中通道数量必须与输入层中通道的数量保持一致。但是你使用了32个过滤器，输出层为28×28×32，这就是压缩通道数（$n_c$）的方法，对于池化层我只是压缩了这些层的高度和宽度</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_23.png)</p>
<ol start="2">
<li><strong>doing something pretty non-trivial</strong></li>
</ol>
<p>它给神经网络添加了一个非线性函数，从而减少或保持输入层中的通道数量不变，当然如果你愿意，也可以增加通道数量。</p>
<h3 id="l6-inception-network-motivation-谷歌-inception-网络简介"><a class="header-anchor" href="#l6-inception-network-motivation-谷歌-inception-网络简介">¶</a>L6 : Inception network motivation(谷歌 Inception 网络简介)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\99f8fc7dbe7cd0726f5271aae11b9872.png)</p>
<p>有了这样的<strong>Inception</strong>模块，你就可以输入某个量，因为它累加了所有数字，这里的最终输出为32+32+128+64=256。有了这样的<strong>Inception</strong>模块，你就可以输入某个量，因为它累加了所有数字，这里的最终输出为32+32+128+64=256。Inception 网络选用不同尺寸的滤波器进行 Same 卷积，并将卷积和池化得到的输出组合拼接起来，最终让网络自己去学习需要的参数和采用的滤波器组合。</p>
<p>1x1 的卷积层通常被称作<strong>瓶颈层（Bottleneck layer）</strong></p>
<p>计算量为 28x28x32x5x5x192 = 1.2亿</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\The-problem-of-computational-cost.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Using-1x1-convolution.png)</p>
<p>28x28x192x16 + 28x28x32x5x5x15 = 1.24 千万，减少了约 90%。</p>
<h3 id="l7-inception-network-inception-网络"><a class="header-anchor" href="#l7-inception-network-inception-网络">¶</a>L7 : Inception network(Inception 网络)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_24.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\example_2_25.png)</p>
<h3 id="l8-using-open-source-implementations-使用开源的实现方案"><a class="header-anchor" href="#l8-using-open-source-implementations-使用开源的实现方案">¶</a>L8 : Using open-source implementations( 使用开源的实现方案)</h3>
<p>开源项目</p>
<h3 id="l9-：-transfer-learning-迁移学习"><a class="header-anchor" href="#l9-：-transfer-learning-迁移学习">¶</a>L9 ： Transfer Learning（迁移学习）</h3>
<p>如果你下载别人已经训练好网络结构的权重，你通常能够进展的相当快，用这个作为预训练，然后转换到你感兴趣的任务上。</p>
<ol>
<li>只有很小数据集： 可以你只需要训练<strong>softmax</strong>层的权重，把前面这些层的权重都冻结。</li>
<li>稍微更大的数据集： 你应该冻结更少的层，比如只把这些层冻结，然后训练后面的层。如果你的输出层的类别不同，那么你需要构建自己的输出单元；或者你可以直接去掉这几层，换成你自己的隐藏单元和你自己的<strong>softmax</strong>输出层，这些方法值得一试。</li>
<li>大量数据： 你可以用下载的权重只作为初始化，用它们来代替随机初始化，接着你可以用梯度下降训练，更新网络所有层的所有权重。</li>
</ol>
<h3 id="l10-：-data-augmentation-数据增强"><a class="header-anchor" href="#l10-：-data-augmentation-数据增强">¶</a>L10 ： Data augmentation（数据增强）</h3>
<p>数据量远远不够</p>
<ol>
<li>Mirroring</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring.png)</p>
<ol start="2">
<li>Random Cropping</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring_1.png)</p>
<ol start="3">
<li>
<p>彩色转换color shifting</p>
<p>r,g,b数据改变</p>
</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring_2.png)</p>
<p>除了随意改变RGB通道数值外，还可以更有针对性地对图片的RGB通道进行PCA color augmentation，也就是对图片颜色进行主成分分析，对主要的通道颜色进行增加或减少，可以采用高斯扰动做法。这样也能增加有效的样本数量。具体的PCA color augmentation做法可以查阅AlexNet的相关论文。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring_3.png)</p>
<p>常用的实现数据扩充的方法是使用一个线程或者是多线程，这些可以用来加载数据，实现变形失真，然后传给其他的线程或者其他进程，来训练这个（编号2）和这个（编号1），可以并行实现。</p>
<h3 id="l11：the-state-of-computer-vision-计算机视觉现状"><a class="header-anchor" href="#l11：the-state-of-computer-vision-计算机视觉现状">¶</a>L11：The state of computer vision(计算机视觉现状)</h3>
<ol>
<li>神经网络需要数据，不同的网络模型所需的数据量是不同的。Object dection，Image recognition，Speech recognition所需的数据量依次增加。一般来说，如果data较少，那么就需要更多的hand-engineering，对已有data进行处理。</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring_4.png)</p>
<p>hand-engineering是一项非常重要也比较困难的工作。很多时候，hand-engineering对模型训练效果影响很大，特别是在数据量不多的情况下。</p>
<p>当你有少量的数据时，有一件事对你很有帮助，那就是迁移学习。在别人做好的基础上研究</p>
<ol start="2">
<li>
<p>提升性能</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Mirroring_5.png)*</p>
</li>
</ol>
<p>由于计算机视觉问题建立在小数据集之上，其他人已经完成了大量的网络架构的手工工程。一个神经网络在某个计算机视觉问题上很有效，但令人惊讶的是它通常也会解决其他计算机视觉问题。</p>
<p>所以，要想建立一个实用的系统，你最好先从其他人的神经网络架构入手。如果可能的话，你可以使用开源的一些应用，因为开放的源码实现可能已经找到了所有繁琐的细节，比如学习率衰减方式或者超参数。</p>
<h2 id="summary-v2"><a class="header-anchor" href="#summary-v2">¶</a>summary</h2>
<p><font color="red">1. CNN的常见网络结构 重点说了一些残差网络 2.数据增加的方法 3. 多用开源框架，不用从头开始训练 </font></p>
<h1>W3 Object detection(目标检测)</h1>
<h3 id="l1-object-localization-目标定位"><a class="header-anchor" href="#l1-object-localization-目标定位">¶</a>L1 :Object localization(目标定位)</h3>
<p>目标定位和目标检测</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_1.png)</p>
<p>模型</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_2.png)</p>
<p>输入还包括位置信息</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_3.png)</p>
<p>损失函数</p>
<p>情况一：检测到了</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_4.png)</p>
<p>情况二：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_5.png)</p>
<h3 id="l2-landmark-detection-特征点检测"><a class="header-anchor" href="#l2-landmark-detection-特征点检测">¶</a>L2: Landmark detection(特征点检测)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_6.png)</p>
<p>该网络模型共检测人脸上64处特征点，加上是否为face的标志位，输出label共有64x2+1=129个值。通过检测人脸特征点可以进行情绪分类与判断，或者应用于AR领域等等。</p>
<p>除了人脸特征点检测之外，还可以检测人体姿势动作，如下图所示：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_7.png)</p>
<h3 id="l3-object-detection-目标检测"><a class="header-anchor" href="#l3-object-detection-目标检测">¶</a>L3 :Object detection(目标检测)</h3>
<p>学过了对象定位和特征点检测，今天我们来构建一个对象检测算法。这节课，我们将学习如何通过卷积网络进行对象检测，采用的是基于滑动窗口的目标检测算法。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_8.png)</p>
<p>训练完这个卷积网络，就可以用它来实现滑动窗口目标检测，具体步骤如下。</p>
<p>选定特定大小的窗口，窗口圈定输入卷积神经网络，卷积神经网络开始预测。</p>
<p>重复上述操作，不过这次我们选择一个更大的窗口，截取更大的区域，并输入给卷积神经网络处理，你可以根据卷积网络对输入大小调整这个区域，然后输入给卷积网络，输出0或![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_10.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_11.png)</p>
<p>如果你这样做，不论汽车在图片的什么位置，总有一个窗口可以检测到它。</p>
<p>这种算法叫作滑动窗口目标检测，因为我们以某个步幅滑动这些方框窗口遍历整张图片，对这些方形区域进行分类，判断里面有没有汽车。</p>
<p>滑动窗算法的优点是原理简单，且不需要人为选定目标区域（检测出目标的滑动窗即为目标区域）。但是其缺点也很明显，首先滑动窗的大小和步进长度都需要人为直观设定。滑动窗过小或过大，步进长度过大均会降低目标检测正确率。而且，每次滑动窗区域都要进行一次CNN网络计算，如果滑动窗和步进长度较小，整个目标检测的算法运行时间会很长。所以，滑动窗算法虽然简单，但是性能不佳，不够快，不够灵活。</p>
<h3 id="l-4-convolutional-implementation-of-sliding-windows-滑动窗口的卷积实现"><a class="header-anchor" href="#l-4-convolutional-implementation-of-sliding-windows-滑动窗口的卷积实现">¶</a>L 4 : Convolutional implementation of sliding windows(滑动窗口的卷积实现)</h3>
<ol>
<li>
<p>全连接层转化为卷积层</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_12.png)</p>
</li>
</ol>
<p>单个窗口区域卷积网络结构建立完毕之后，对于待检测图片，即可使用该网络参数和结构进行运算。例如16 x 16 x 3的图片，步进长度为2，CNN网络得到的输出层为2 x 2 x 4。其中，2 x 2表示共有4个窗口结果。对于更复杂的28 x 28 x3的图片，CNN网络得到的输出层为8 x 8 x 4，共64个窗口结果。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_13.png)</p>
<p>之前的滑动窗算法需要反复进行CNN正向计算，例如16 x 16 x 3的图片需进行4次，28 x 28 x3的图片需进行64次。而利用卷积操作代替滑动窗算法，则不管原始图片有多大，只需要进行一次CNN正向计算，因为其中共享了很多重复计算部分，这大大节约了运算成本。值得一提的是，窗口步进长度与选择的MAX POOL大小有关。如果需要步进长度为4，只需设置MAX POOL为4 x 4即可。</p>
<h3 id="l5-：-bounding-box-predictions-bounding-box预测"><a class="header-anchor" href="#l5-：-bounding-box-predictions-bounding-box预测">¶</a>L5 ： Bounding box predictions（Bounding Box预测）</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_14.png)</p>
<ol>
<li>
<p>YOLO（You Only Look Once）算法可以解决这类问题，生成更加准确的目标区域（如上图红色窗口）。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_16.png)</p>
</li>
<li>
<p>如果目标中心坐标(bx,by)不在当前网格内，则当前网格Pc=0；相反，则当前网格Pc=1（即只看中心坐标是否在当前网格内）。判断有目标的网格中，bx,by,bh,bw限定了目标区域。值得注意的是，当前网格左上角坐标设定为(0, 0)，右下角坐标设定为(1, 1)，(bx,by)范围限定在[0,1]之间，但是bh,bw可以大于1。因为目标可能超出该网格，横跨多个区域，如上图所示。目标占几个网格没有关系，目标中心坐标必然在一个网格之内。</p>
</li>
</ol>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_15.png)</p>
<h3 id="l6-：intersection-over-union-交并比"><a class="header-anchor" href="#l6-：intersection-over-union-交并比">¶</a>L6 ：Intersection over union（交并比)</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_17.png)</p>
<p>一般约定，在计算机检测任务中，如果lou&gt;=0.5，就说检测正确，如果预测器和实际边界框完美重叠，<strong>loU</strong>就是1，因为交集就等于并集。但一般来说只要lou&gt;=0.5，那么结果是可以接受的，看起来还可以。一般约定，0.5是阈值，用来判断预测的边界框是否正确。一般是这么约定，但如果你希望更严格一点，你可以将<strong>loU</strong>定得更高，比如说大于0.6或者更大的数字，但<strong>loU</strong>越高，边界框越精确。</p>
<h3 id="l7-non-max-suppression-非极大值抑制"><a class="header-anchor" href="#l7-non-max-suppression-非极大值抑制">¶</a>L7: Non-max suppression(非极大值抑制)</h3>
<p>到目前为止你们学到的对象检测中的一个问题是，你的算法可能对同一个对象做出多次检测，所以算法不是对某个对象检测出一次，而是检测出多次。非极大值抑制这个方法可以确保你的算法对每个对象只检测一次，我们讲一个例子。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_18.png)</p>
<p>假设你需要在这张图片里检测行人和汽车，你可能会在上面放个19×19网格，理论上这辆车只有一个中点，所以它应该只被分配到一个格子里，左边的车子也只有一个中点，所以理论上应该只有一个格子做出有车的预测。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_19.png)</p>
<p>实际情况是格子1，2，3，4，5，6都认为里面有车。因为你要在361个格子上都运行一次图像检测和定位算法，那么可能很多格子都会举手说我的pc,我这个格子里有车的概率很高，而不是361个格子中仅有两个格子会报告它们检测出一个对象。</p>
<p>非最大值抑制（Non-max Suppression）做法很简单，图示每个网格的Pc值可以求出，Pc值反映了该网格包含目标中心坐标的可信度。首先选取Pc最大值对应的网格和区域，然后计算该区域与所有其它区域的IoU，剔除掉IoU大于阈值（例如0.5）的所有网格及区域。这样就能保证同一目标只有一个网格与之对应，且该网格Pc最大，最可信。接着，再从剩下的网格中选取Pc最大的网格，重复上一步的操作。最后，就能使得每个目标都仅由一个网格和区域对应。如下图所示：</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_20.png)</p>
<p>总结一下非最大值抑制算法的流程：</p>
<ol>
<li><strong>剔除Pc值小于某阈值（例如0.6）的所有网格；</strong></li>
<li><strong>选取Pc值最大的网格，利用IoU，摒弃与该网格交叠较大的网格；</strong></li>
<li><strong>对剩下的网格，重复步骤2。</strong></li>
</ol>
<p>到目前为止，对象检测中存在的一个问题是每个格子只能检测出一个对象，如果你想让一个格子检测出多个对象，你可以这么做，就是使用<strong>anchor box</strong>这个概念，我们从一个例子开始讲吧。方法是使用不同形状的Anchor Boxes。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_21.png)</p>
<p>这就是<strong>anchor box</strong>的概念，我们建立<strong>anchor box</strong>这个概念，是为了处理两个对象出现在同一个格子的情况，实践中这种情况很少发生</p>
<h3 id="l9-yolo-算法-putting-it-together-yolo-algorithm"><a class="header-anchor" href="#l9-yolo-算法-putting-it-together-yolo-algorithm">¶</a>L9 :  YOLO 算法（Putting it together: YOLO algorithm）</h3>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_22.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_23.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_24.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_25.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_26.png)</p>
<p>这就是<strong>YOLO</strong>对象检测算法，这实际上是最有效的对象检测算法之一，包含了整个计算机视觉对象检测领域文献中很多最精妙的思路</p>
<h3 id="region-proposals-optional-候选区域-选修"><a class="header-anchor" href="#region-proposals-optional-候选区域-选修">¶</a>Region proposals (Optional)（候选区域（选修））</h3>
<p>之前介绍的滑动窗算法会对原始图片的每个区域都进行扫描，即使是一些空白的或明显没有目标的区域，例如下图所示。这样会降低算法运行效率，耗费时间。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_27.png)</p>
<p>为了解决这一问题，尽量避免对无用区域的扫描，可以使用Region Proposals的方法。具体做法是先对原始图片进行分割算法处理，然后支队分割后的图片中的块进行目标检测。</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_28.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\Detering_29.png)</p>
<p>Region Proposals共有三种方法：</p>
<ul>
<li><strong>R-CNN: 滑动窗的形式，一次只对单个区域块进行目标检测，运算速度慢。</strong></li>
<li><strong>Fast R-CNN: 利用卷积实现滑动窗算法，类似第4节做法。</strong></li>
<li><strong>Faster R-CNN: 利用卷积对图片进行分割，进一步提高运行速度。</strong></li>
</ul>
<h2 id="w4：special-applications-face-recognition-neural-style-transfer-特殊应用：人脸识别和神经风格转换"><a class="header-anchor" href="#w4：special-applications-face-recognition-neural-style-transfer-特殊应用：人脸识别和神经风格转换">¶</a>W4：Special applications: Face recognition &amp;Neural style transfer( 特殊应用：人脸识别和神经风格转换)</h2>
<h3 id="c1-：-what-is-face-recognition"><a class="header-anchor" href="#c1-：-what-is-face-recognition">¶</a>C1 ： What is face recognition?</h3>
<p>首先简单介绍一下人脸验证（face verification）和人脸识别（face recognition）的区别。</p>
<ul>
<li><strong>人脸验证：输入一张人脸图片，验证输出与模板是否为同一人，即一对一问题。</strong></li>
<li><strong>人脸识别：输入一张人脸图片，验证输出是否为K个模板中的某一个，即一对多问题。</strong></li>
</ul>
<h3 id="l2-：-one-shot-learning"><a class="header-anchor" href="#l2-：-one-shot-learning">¶</a>L2 ： One-shot learning</h3>
<p>One-shot learning就是说数据库中每个人的训练样本只包含一张照片，然后训练一个CNN模型来进行人脸识别。若数据库有K个人，则CNN模型输出softmax层就是K维的。</p>
<p>但是One-shot learning的性能并不好，其包含了两个缺点：</p>
<ul>
<li><strong>每个人只有一张图片，训练样本少，构建的CNN网络不够健壮。</strong></li>
<li><strong>若数据库增加另一个人，输出层softmax的维度就要发生变化，相当于要重新构建CNN网络，使模型计算量大大增加，不够灵活。</strong></li>
</ul>
<p>为了解决One-shot learning的问题，我们先来介绍相似函数（similarity function）。相似函数表示两张图片的相似程度，用d(img1,img2)来表示。若d(img1,img2)较小，则表示两张图片相似；若d(img1,img2)较大，则表示两张图片不是同一个人。相似函数可以在人脸验证中使用：</p>
<ul>
<li><strong>d(img1,img2)≤τ : 一样</strong></li>
<li><strong>d(img1,img2)&gt;τ : 不一样</strong></li>
</ul>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\congtion_1.png)</p>
<p>现在你已经知道函数d是如何工作的，通过输入两张照片，它将让你能够解决一次学习问题。那么，下节视频中，我们将会学习如何训练你的神经网络学会这个函数。</p>
<h3 id="l3-siamese-network"><a class="header-anchor" href="#l3-siamese-network">¶</a>L3: Siamese network</h3>
<p>最后一层去掉softmax单元做分类</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\congtion_2.png)</p>
<p>![](K:\MyBlog\hexo\source_posts\Deel Learning ai_Convolutional Neural Networks\congtion_3.png)</p>
<p>如果你要比较两个图片的话，例如这里的第一张（编号1）和第二张图片（编号2），你要做的就是把第二张图片喂给有同样参数的同样的神经网络，然后得到一个不同的128维的向量（编号3），这个向量代表或者编码第二个图片，我要把第二张图片的编码叫做$f(x<sup>{(2)})$。这里我用$x</sup>{(1)}$和$x^{(2)}$仅仅代表两个输入图片,<br>
$$<br>
d(x<sup>{(1)},x</sup>{(2)})=||f(x<sup>{(1)}-f(x</sup>{(2)}||^2<br>
$$<br>
不同的图片的CNN网络结构和参数都是一样的，目标就是利用梯度下降算法，调整网络参数</p>

          
        
      
    </div>

    

    
    
    

    

    

    
<div>
  
</div>
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">XieMay</p>
              <p class="site-description motion-element" itemprop="description">期待花开</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">46</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">36</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="http://www.cnblogs.com/shiyiandchuixue/" target="_blank" title="BLOGS"><i class="fa fa-fw fa-globe"></i>BLOGS</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:2323020965@qq.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/shiyichuixue" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="powered-by">
<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XieMay</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Symbols count total&#58;</span>
    
    <span title="Symbols count total">295k</span>
  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.4</div>



</div>
        








        
      </div>
    </footer>

    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


















  
  









  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.4"></script>



  



	





  









  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
  
    
  
  <script src="[object Object]"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '1Dfsb4DwGQPCIlbyCKt9egUR-gzGzoHsz',
        appKey: '8OKqJPeMRRQnxx2vaAwIkM8y',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    
      
    
      
    
      
    
      
    
      
        
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":"wanko","bottom":-30,"mobileShow":false,"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end --></body>
</html>
